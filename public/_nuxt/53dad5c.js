(window.webpackJsonp=window.webpackJsonp||[]).push([[94,68],{585:function(e,t,o){"use strict";o.r(t);var n={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},r=o(12),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row mx-lg-4"},[o("div",{staticClass:"col-12"},[o("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[o("h4",{staticClass:"mb-0"},[e._v(e._s(e.title))]),e._v(" "),o("div",{staticClass:"page-title-right"},[o("b-breadcrumb",{staticClass:"m-0",attrs:{items:e.items}})],1)])])])}),[],!1,null,null,null);t.default=component.exports},745:function(e,t,o){"use strict";o.r(t);var n=o(25),r=(o(64),o(1),{layout:"vertical",head:function(){return{title:"".concat(this.title," | CENEPRED")}},data:function(){return{title:"Acreditaciones",items:[{text:"Admin"},{text:"Selección verificadores AdHoc"},{text:"Acreditaciones",active:!0}],tableData:this.getItems,isBusy:!1,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],sortDesc:!1,sortBy:"usuario_apellido_paterno",fields:[{label:"Nro. Documento",key:"usuario_numero_documento",sortable:!0,visible:!0,class:"bs-date-col"},{label:"Usuario AdHoc",key:"usuario_nombres",sortable:!0,visible:!0},{label:"Sede",key:"sede_registral_nombre",sortable:!0,visible:!0},{label:"F. Inicio Acreditación",key:"acreditacion_fecha_inicio",sortable:!0,visible:!0,class:"bs-nro-documento-col text-center"},{label:"F. Fin Acreditación",key:"acreditacion_fecha_fin",sortable:!0,visible:!0,class:"bs-date-col"},{label:"F. Postulación",key:"fecha",sortable:!0,visible:!0,class:"bs-date-col"}],listConvocatorias:[],listSedes:[],convocatoriaSelected:null,sedeSelected:null}},computed:{visibleFields:function(){return this.fields.filter((function(e){return e.visible}))}},mounted:function(){this.loadSelectOptions()},created:function(){var e=this;this.$nuxt.$on("refresh-table",(function(){e.refreshTable()}))},beforeDestroy:function(){this.$nuxt.$off("refresh-table")},methods:{refreshTable:function(){this.$refs.table.refresh()},getItems:function(e){var t=this;if(this.isBusy=!1,!this.convocatoriaSelected)return[];var o=this.filtersTable(e),n="/calificacion/".concat(this.convocatoriaSelected.id,"/acreditaciones");return this.$axios.get(n+o).then((function(e){var o=e.data.data;return t.currentPage=e.data.meta.current_page,t.totalRows=e.data.meta.total,t.isBusy=!1,o})).catch((function(e){return t.isBusy=!1,[]}))},filtersTable:function(e){var t=e.sortDesc?"DESC":"ASC",o="?page=".concat(e.currentPage);return o+="&per_page=".concat(e.perPage),o+=e.sortBy?"&sortBy=".concat(e.sortBy):"",o+=this.sedeSelected?"&sede_registral_id=".concat(this.sedeSelected.id):"",o+="&direction=".concat(t)},loadSelectOptions:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/listasParaCalificacion").then((function(t){e.listConvocatorias=t.data.convocatorias||[],e.listSedes=t.data.sedes_registrales||[]}));case 2:case"end":return t.stop()}}),t)})))()}},middleware:"us-cenepred"}),l=o(12),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("PageHeader",{attrs:{title:e.title,items:e.items}}),e._v(" "),o("div",{staticClass:"row mx-lg-4"},[o("div",{staticClass:"col-12"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[o("h2",{staticClass:"card-title"},[e._v("\n            Acreditaciones de la convocatoria:\n            "),e.convocatoriaSelected?[o("span",{staticClass:"text-info"},[e._v(e._s(e.convocatoriaSelected.nombre))])]:e._e(),e._v(" "),e.convocatoriaSelected&&!e.sedeSelected?[e._v(" en todas las sedes. ")]:e._e(),e._v(" "),e.convocatoriaSelected&&e.sedeSelected?[e._v("\n              en la sede "),o("span",{staticClass:"text-info"},[e._v(e._s(e.sedeSelected.nombre))])]:e._e()],2)]),e._v(" "),o("div",{staticClass:"card-body"},[o("div",{staticClass:"row mt-1"},[o("div",{staticClass:"col-sm-12 col-md-6"},[o("div",{staticClass:"mb-4"},[o("ValidationObserver",{ref:"form",on:{submit:function(e){e.preventDefault()}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[o("b-form",{on:{submit:function(e){return e.preventDefault(),n()}}},[o("ValidationProvider",{attrs:{rules:"required",name:"Convocatorias"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.valid,r=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Convocatorias:"}},[o("multiselect-c",{class:r[0]?"is-invalid":n?"is-valid":"",attrs:{options:e.listConvocatorias,label:"nombre","track-by":"id",placeholder:"Elija una convocatoria"},model:{value:e.convocatoriaSelected,callback:function(t){e.convocatoriaSelected=t},expression:"convocatoriaSelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n                          "+e._s(r[0])+"\n                        ")])],1)]}}],null,!0)}),e._v(" "),o("b-form-group",{staticClass:"mb-3",attrs:{label:"Sede Registral:"}},[o("multiselect-c",{attrs:{options:e.listSedes,label:"nombre","track-by":"id",placeholder:"Todas las sedes"},model:{value:e.sedeSelected,callback:function(t){e.sedeSelected=t},expression:"sedeSelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")])])],1),e._v(" "),o("div",{staticClass:"mb-3"},[o("button",{staticClass:"btn btn-primary",on:{click:e.refreshTable}},[e._v("Ver Resultados")])])],1)]}}])})],1)]),e._v(" "),o("hr"),e._v(" "),o("div",{staticClass:"col-sm-12 col-md-6"},[o("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[o("label",{staticClass:"d-inline-flex align-items-center"},[e._v("\n                  Mostrar  \n                  "),o("b-form-select",{attrs:{options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}}),e._v("\n                    registros\n                ")],1)])])]),e._v(" "),o("div",{staticClass:"table-responsive mb-0"},[o("b-table",{ref:"table",class:"table-nowrap",attrs:{responsive:"sm",busy:e.isBusy,items:e.tableData,fields:e.visibleFields,"per-page":e.perPage,"current-page":e.currentPage,"sort-by":e.sortBy,"sort-desc":e.sortDesc,striped:"","show-empty":""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"empty",fn:function(){return[o("p",{staticClass:"text-center"},[e._v("No hay registros para mostrar")])]},proxy:!0},{key:"cell(usuario_nombres)",fn:function(data){return[e._v("\n                "+e._s(data.value)+"\n                "+e._s(data.item.usuario_apellido_paterno)+"\n                "+e._s(data.item.usuario_apellido_materno)+"\n              ")]}},{key:"cell(acreditacion_fecha_inicio)",fn:function(data){return[e._v("\n                "+e._s(e.$moment(String(data.value)).format("YYYY-MM-DD"))+"\n              ")]}},{key:"cell(acreditacion_fecha_fin)",fn:function(data){return[e._v("\n                "+e._s(e.$moment(String(data.value)).format("YYYY-MM-DD"))+"\n              ")]}}])})],1),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[o("ul",{staticClass:"pagination pagination-rounded mb-0"},[o("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])])])])])])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PageHeader:o(585).default})}}]);