(window.webpackJsonp=window.webpackJsonp||[]).push([[103,49,50,51,68,69],{585:function(t,e,n){"use strict";n.r(e);var o={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row mx-lg-4"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[n("h4",{staticClass:"mb-0"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"page-title-right"},[n("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])}),[],!1,null,null,null);e.default=component.exports},591:function(t,e,n){"use strict";n.r(e),n.d(e,"countries",(function(){return o}));var o=[{id:1,country:"Afganistán"},{id:2,country:"Albania"},{id:3,country:"Alemania"},{id:4,country:"Andorra"},{id:5,country:"Angola"},{id:6,country:"Antigua y Barbuda"},{id:7,country:"Arabia Saudita"},{id:8,country:"Argelia"},{id:9,country:"Argentina"},{id:10,country:"Armenia"},{id:11,country:"Australia"},{id:12,country:"Austria"},{id:13,country:"Azerbaiyán"},{id:14,country:"Bahamas"},{id:15,country:"Bangladés"},{id:16,country:"Barbados"},{id:17,country:"Baréin"},{id:18,country:"Bélgica"},{id:19,country:"Belice"},{id:20,country:"Benín"},{id:21,country:"Bielorrusia"},{id:22,country:"Bolivia"},{id:23,country:"Bosnia y Herzegovina"},{id:24,country:"Botsuana"},{id:25,country:"Brasil"},{id:26,country:"Brunéi"},{id:27,country:"Bulgaria"},{id:28,country:"Burkina Faso"},{id:29,country:"Burundi"},{id:30,country:"Bután"},{id:31,country:"Cabo Verde"},{id:32,country:"Camboya"},{id:33,country:"Camerún"},{id:34,country:"Canadá"},{id:35,country:"Catar"},{id:36,country:"Chad"},{id:37,country:"Chile"},{id:38,country:"China"},{id:39,country:"Chipre"},{id:40,country:"Colombia"},{id:41,country:"Comoras"},{id:42,country:"Corea del Norte"},{id:43,country:"Corea del Sur"},{id:44,country:"Costa de Marfil"},{id:45,country:"Costa Rica"},{id:46,country:"Croacia"},{id:47,country:"Cuba"},{id:48,country:"Dinamarca"},{id:49,country:"Dominica"},{id:50,country:"Ecuador"},{id:51,country:"Egipto"},{id:52,country:"El Salvador"},{id:53,country:"Emiratos Árabes Unidos"},{id:54,country:"Eritrea"},{id:55,country:"Eslovaquia"},{id:56,country:"Eslovenia"},{id:57,country:"España"},{id:58,country:"Estados Unidos"},{id:59,country:"Estonia"},{id:60,country:"Etiopía"},{id:61,country:"Filipinas"},{id:62,country:"Finlandia"},{id:63,country:"Fiyi"},{id:64,country:"Francia"},{id:65,country:"Gabón"},{id:66,country:"Gambia"},{id:67,country:"Georgia"},{id:68,country:"Ghana"},{id:69,country:"Granada"},{id:70,country:"Grecia"},{id:71,country:"Guatemala"},{id:72,country:"Guinea"},{id:73,country:"Guinea-Bisáu"},{id:74,country:"Guinea Ecuatorial"},{id:75,country:"Guyana"},{id:76,country:"Haití"},{id:77,country:"Honduras"},{id:78,country:"Hungría"},{id:79,country:"India"},{id:80,country:"Indonesia"},{id:81,country:"Irak"},{id:82,country:"Irán"},{id:83,country:"Irlanda"},{id:84,country:"Islandia"},{id:85,country:"Islas Marshall"},{id:86,country:"Islas Salomón"},{id:87,country:"Israel"},{id:88,country:"Italia"},{id:89,country:"Jamaica"},{id:90,country:"Japón"},{id:91,country:"Jordania"},{id:92,country:"Kazajistán"},{id:93,country:"Kenia"},{id:94,country:"Kirguistán"},{id:95,country:"Kiribati"},{id:96,country:"Kuwait"},{id:97,country:"Laos"},{id:98,country:"Lesoto"},{id:99,country:"Letonia"},{id:100,country:"Líbano"},{id:101,country:"Liberia"},{id:102,country:"Libia"},{id:103,country:"Liechtenstein"},{id:104,country:"Lituania"},{id:105,country:"Luxemburgo"},{id:106,country:"Macedonia del Norte"},{id:107,country:"Madagascar"},{id:108,country:"Malasia"},{id:109,country:"Malaui"},{id:110,country:"Maldivas"},{id:111,country:"Malí"},{id:112,country:"Malta"},{id:113,country:"Marruecos"},{id:114,country:"Mauricio"},{id:115,country:"Mauritania"},{id:116,country:"México"},{id:117,country:"Micronesia"},{id:118,country:"Moldavia"},{id:119,country:"Mónaco"},{id:120,country:"Mongolia"},{id:121,country:"Montenegro"},{id:122,country:"Mozambique"},{id:123,country:"Birmania"},{id:124,country:"Namibia"},{id:125,country:"Nauru"},{id:126,country:"Nepal"},{id:127,country:"Nicaragua"},{id:128,country:"Níger"},{id:129,country:"Nigeria"},{id:130,country:"Noruega"},{id:131,country:"Nueva Zelanda"},{id:132,country:"Omán"},{id:133,country:"Países Bajos"},{id:134,country:"Pakistán"},{id:135,country:"Palaos"},{id:136,country:"Panamá"},{id:137,country:"Papúa Nueva Guinea"},{id:138,country:"Paraguay"},{id:139,country:"Perú"},{id:140,country:"Polonia"},{id:141,country:"Portugal"},{id:142,country:"Reino Unido"},{id:143,country:"República Centroafricana"},{id:144,country:"República Checa"},{id:145,country:"República del Congo"},{id:146,country:"República Democrática del Congo"},{id:147,country:"República Dominicana"},{id:148,country:"Ruanda"},{id:149,country:"Rumania"},{id:150,country:"Rusia"},{id:151,country:"Samoa"},{id:152,country:"San Cristóbal y Nieves"},{id:153,country:"San Marino"},{id:154,country:"San Vicente y las Granadinas"},{id:155,country:"Santa Lucía"},{id:156,country:"Santo Tomé y Príncipe"},{id:157,country:"Senegal"},{id:158,country:"Serbia"},{id:159,country:"Seychelles"},{id:160,country:"Sierra Leona"},{id:161,country:"Singapur"},{id:162,country:"Siria"},{id:163,country:"Somalia"},{id:164,country:"Sri Lanka"},{id:165,country:"Suazilandia"},{id:166,country:"Sudáfrica"},{id:167,country:"Sudán"},{id:168,country:"Sudán del Sur"},{id:169,country:"Suecia"},{id:170,country:"Suiza"},{id:171,country:"Surinam"},{id:172,country:"Tailandia"},{id:173,country:"Tanzania"},{id:174,country:"Tayikistán"},{id:175,country:"Timor Oriental"},{id:176,country:"Togo"},{id:177,country:"Tonga"},{id:178,country:"Trinidad y Tobago"},{id:179,country:"Túnez"},{id:180,country:"Turkmenistán"},{id:181,country:"Turquía"},{id:182,country:"Tuvalu"},{id:183,country:"Ucrania"},{id:184,country:"Uganda"},{id:185,country:"Uruguay"},{id:186,country:"Uzbekistán"},{id:187,country:"Vanuatu"},{id:188,country:"Venezuela"},{id:189,country:"Vietnam"},{id:190,country:"Yemen"},{id:191,country:"Yibuti"},{id:192,country:"Zambia"},{id:193,country:"Zimbabue"}]},650:function(t,e,n){"use strict";n.r(e);var o=n(25),r=(n(64),n(15),n(586)),c=(n(587),n(588),n(591)),l={components:{DatePicker:r.default},props:{title:{type:String,default:"Agregar Institución"}},data:function(){return{modalId:"modal-add",openModalEvent:"open-add-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/instituciones",msgSuccess:"Institución creada exitosamente!!!",isProcessing:!1,item:{id:null,nombre:"",etiqueta:"",tipo_institucion_id:"",pais_id:""},countries:c.countries,listTipoInstituciones:[],countrySelected:null,tipoInstitucionSelected:null}},watch:{tipoInstitucionSelected:function(t){this.item.tipo_institucion_id=t&&t.id?t.id:null},countrySelected:function(t){this.item.pais_id=t&&t.id?t.id:null}},mounted:function(){this.loadSelectOptions()},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(){t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return this.apiUrlPartial}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId)},resetModal:function(){this.resetFormValues()},resetFormValues:function(){this.item.id=null,this.item.nombre="",this.item.etiqueta="",this.item.tipo_institucion_id="",this.item.pais_id="",this.countrySelected=null,this.tipoInstitucionSelected=null,this.isProcessing=!1},handleOk:function(t){t.preventDefault(),this.onSubmit()},onSubmit:function(){var t=this;this.$refs.form.validate().then((function(e){e&&(t.isProcessing=!0,t.$axios.post(t.apiUrl,t.item).then((function(e){t.$notify({type:"success",text:t.msgSuccess})})).finally((function(){t.refreshTable(),t.hideModal()})))}))},loadSelectOptions:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/listasParaCapacitacion").then((function(e){t.listTipoInstituciones=e.data.institutiones||[],t.listTipoInstituciones=[{id:3,nombre:"Gobierno Departamental"},{id:2,nombre:"Gobierno Local"},{id:1,nombre:"Institucion Academica"}]}));case 2:case"end":return e.stop()}}),e)})))()}}},d=n(12),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:t.modalId,title:t.title,size:"lg"},on:{ok:t.handleOk,hidden:t.resetModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.ok,r=e.cancel;return[n("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return r()}}},[t._v(" Cancelar")]),t._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"primary",disabled:t.isProcessing},on:{click:function(t){return o()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:!t.isProcessing,expression:"!isProcessing"}],staticClass:"fas fa-paper-plane"}),t._v(" Agregar\n      ")])]}}])},[n("ValidationObserver",{ref:"form",on:{submit:function(t){t.preventDefault()}},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.handleSubmit;return[n("b-form",{on:{submit:function(e){return e.preventDefault(),o(t.onSubmit)}}},[n("ValidationProvider",{attrs:{rules:"required|alpha_num_spaces",name:"Nombre"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Nombre:"}},[n("b-form-input",{attrs:{type:"text",state:!r[0]&&(!!o||null)},model:{value:t.item.nombre,callback:function(e){t.$set(t.item,"nombre",e)},expression:"item.nombre"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(r[0]))])],1)]}}],null,!0)}),t._v(" "),n("ValidationProvider",{attrs:{rules:"required|alpha_num_spaces",name:"Etiqueta"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Etiqueta:"}},[n("b-form-input",{attrs:{type:"text",state:!r[0]&&(!!o||null)},model:{value:t.item.etiqueta,callback:function(e){t.$set(t.item,"etiqueta",e)},expression:"item.etiqueta"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(r[0]))])],1)]}}],null,!0)}),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{rules:"required",name:"Tipo de Institución"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Tipo de Institución:"}},[n("multiselect-c",{class:r[0]?"is-invalid":o?"is-valid":"",attrs:{options:t.listTipoInstituciones,label:"nombre","track-by":"id",placeholder:"Elija un tipo de institución"},model:{value:t.tipoInstitucionSelected,callback:function(e){t.tipoInstitucionSelected=e},expression:"tipoInstitucionSelected"}},[n("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Oops! No se encontraron elementos.")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(r[0])+"\n                ")])],1)]}}],null,!0)})],1),t._v(" "),n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{rules:"required",name:"Pais"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Pais:"}},[n("multiselect-c",{class:r[0]?"is-invalid":o?"is-valid":"",attrs:{options:t.countries,label:"country","track-by":"id",placeholder:"Elija un pais"},model:{value:t.countrySelected,callback:function(e){t.countrySelected=e},expression:"countrySelected"}},[n("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Oops! No se encontraron elementos.")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(r[0])+"\n                ")])],1)]}}],null,!0)})],1)])],1)]}}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports},651:function(t,e,n){"use strict";n.r(e);var o=n(25),r=(n(64),n(15),n(99),n(586)),c=(n(587),n(588),n(591)),l={components:{DatePicker:r.default},props:{title:{type:String,default:"Editar Institución"}},data:function(){return{modalId:"modal-edit",openModalEvent:"open-edit-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/instituciones/",msgSuccess:"Institución actualizada exitosamente!!!",isProcessing:!1,item:{id:null,nombre:"",etiqueta:"",tipo_institucion_id:"",pais_id:""},countries:c.countries,listTipoInstituciones:[],countrySelected:null,tipoInstitucionSelected:null}},watch:{tipoInstitucionSelected:function(t){this.item.tipo_institucion_id=t&&t.id?t.id:null},countrySelected:function(t){this.item.pais_id=t&&t.id?t.id:null}},mounted:function(){this.loadSelectOptions()},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(e){t.setItemValues(e),t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return this.apiUrlPartial+this.item.id}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId)},resetModal:function(){this.resetFormValues()},setItemValues:function(t){this.item.id=t.id,this.item.nombre=t.nombre,this.item.etiqueta=t.etiqueta,this.item.tipo_institucion_id=t.tipo_institucion_id,this.item.pais_id=t.pais_id,this.setSelectedOptions()},resetFormValues:function(){this.item.id=null,this.item.nombre="",this.item.etiqueta="",this.item.tipo_institucion_id="",this.item.pais_id="",this.countrySelected=null,this.tipoInstitucionSelected=null,this.isProcessing=!1},handleOk:function(t){t.preventDefault(),this.onSubmit()},onSubmit:function(){var t=this;this.item.id&&this.$refs.form.validate().then((function(e){e&&(t.isProcessing=!0,t.$axios.put(t.apiUrl,t.item).then((function(e){t.$notify({type:"success",text:t.msgSuccess})})).finally((function(){t.refreshTable(),t.hideModal()})))}))},setSelectedOptions:function(){var t=this;this.tipoInstitucionSelected=this.listTipoInstituciones.find((function(i){return i.id==t.item.tipo_institucion_id})),this.countrySelected=this.countries.find((function(i){return i.id==t.item.pais_id}))},loadSelectOptions:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/listasParaCapacitacion").then((function(e){t.listTipoInstituciones=e.data.institutiones||[],t.listTipoInstituciones=[{id:3,nombre:"Gobierno Departamental"},{id:2,nombre:"Gobierno Local"},{id:1,nombre:"Institucion Academica"}]}));case 2:case"end":return e.stop()}}),e)})))()}}},d=n(12),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:t.modalId,title:t.title,size:"lg"},on:{ok:t.handleOk,hidden:t.resetModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.ok,r=e.cancel;return[n("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return r()}}},[t._v(" Cancelar")]),t._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"primary",disabled:t.isProcessing},on:{click:function(t){return o()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:!t.isProcessing,expression:"!isProcessing"}],staticClass:"fas fa-edit"}),t._v(" Actualizar\n      ")])]}}])},[n("ValidationObserver",{ref:"form",on:{submit:function(t){t.preventDefault()}},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.handleSubmit;return[n("b-form",{on:{submit:function(e){return e.preventDefault(),o(t.onSubmit)}}},[n("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Nombre"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,c=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Nombre:"}},[n("b-form-input",{attrs:{type:"text",state:!(!o||!r)||!c[0]&&null},model:{value:t.item.nombre,callback:function(e){t.$set(t.item,"nombre",e)},expression:"item.nombre"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(c[0]))])],1)]}}],null,!0)}),t._v(" "),n("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Etiqueta"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,c=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Etiqueta:"}},[n("b-form-input",{attrs:{type:"text",state:!(!o||!r)||!c[0]&&null},model:{value:t.item.etiqueta,callback:function(e){t.$set(t.item,"etiqueta",e)},expression:"item.etiqueta"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(c[0]))])],1)]}}],null,!0)}),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{rules:"required",name:"Tipo de Institución"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,c=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Tipo de Institución:"}},[n("multiselect-c",{class:o&&r?"is-valid":c[0]?"is-invalid":"",attrs:{options:t.listTipoInstituciones,label:"nombre","track-by":"id",placeholder:"Elija un tipo de institución"},model:{value:t.tipoInstitucionSelected,callback:function(e){t.tipoInstitucionSelected=e},expression:"tipoInstitucionSelected"}},[n("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Oops! No se encontraron elementos.")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:c.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(c[0])+"\n                ")])],1)]}}],null,!0)})],1),t._v(" "),n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{rules:"required",name:"Pais"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,c=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Pais:"}},[n("multiselect-c",{class:o&&r?"is-valid":c[0]?"is-invalid":"",attrs:{options:t.countries,label:"country","track-by":"id",placeholder:"Elija un pais"},model:{value:t.countrySelected,callback:function(e){t.countrySelected=e},expression:"countrySelected"}},[n("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Oops! No se encontraron elementos.")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:c.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(c[0])+"\n                ")])],1)]}}],null,!0)})],1)])],1)]}}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports},652:function(t,e,n){"use strict";n.r(e);n(15);var o={props:{title:{type:String,default:"Eliminar Institución"}},data:function(){return{modalId:"modal-delete",openModalEvent:"open-delete-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/instituciones/",msgSuccess:"Institución eliminada exitosamente!!!",isProcessing:!1,item:{id:null,text:""}}},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(e){t.setItemValues(e),t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return this.apiUrlPartial+this.item.id}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId),this.resetFormValues()},setItemValues:function(t){this.item.id=t.id,this.item.text=t.nombre},resetFormValues:function(){this.item.id=null,this.item.text="",this.isProcessing=!1},handleOk:function(t){t.preventDefault(),this.onSubmit()},onSubmit:function(){var t=this;this.item.id&&(this.isProcessing=!0,this.$axios.delete(this.apiUrl).then((function(e){t.$notify({type:"success",text:t.msgSuccess})})).finally((function(){t.refreshTable(),t.hideModal()})))}}},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:t.modalId,title:t.title},on:{ok:t.handleOk,hidden:t.hideModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.ok,r=e.cancel;return[n("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return r()}}},[t._v(" Cancelar ")]),t._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"danger",disabled:t.isProcessing},on:{click:function(t){return o()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),t._v("\n        Eliminar\n      ")])]}}])},[n("p",[t._v("¿Está seguro que desea eliminar este registro?")]),t._v(" "),n("p",[n("b",[t._v(t._s(t.item.text))])])])],1)}),[],!1,null,null,null);e.default=component.exports},734:function(t,e,n){"use strict";n.r(e);n(1);var o={layout:"vertical",head:function(){return{title:"".concat(this.title," | CENEPRED")}},data:function(){var t="Lista de Instituciones";return{title:t,items:[{text:"Admin"},{text:"Mantenimiento"},{text:t,active:!0}],urlTableData:"/instituciones",tableData:this.getItems,isBusy:!1,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:"",sortDesc:!1,sortBy:"nombre",fields:[{key:"nombre",label:"Nombre",sortable:!0},{key:"etiqueta",label:"Etiqueta",sortable:!0},{key:"opciones",sortable:!1,class:"bs-option-col",thClass:"bs-option-col-header"}]}},created:function(){var t=this;this.$nuxt.$on("refresh-table",(function(){t.refreshTable()}))},beforeDestroy:function(){this.$nuxt.$off("refresh-table")},methods:{requestDeleteItem:function(t){this.$nuxt.$emit("open-delete-modal",t)},requestEditItem:function(t){this.$nuxt.$emit("open-edit-modal",t)},requestAddItem:function(){this.$nuxt.$emit("open-add-modal")},refreshTable:function(){this.$refs.table.refresh()},getItems:function(t){var e=this,n=this.filtersTable(t);return this.$axios.get(this.urlTableData+n).then((function(t){var n=t.data.data;return e.currentPage=t.data.meta.current_page,e.totalRows=t.data.meta.total,e.isBusy=!1,n})).catch((function(t){return e.isBusy=!1,[]}))},filtersTable:function(t){var e=t.sortDesc?"DESC":"ASC",n="?page=".concat(t.currentPage);return n+="&per_page=".concat(t.perPage),n+="&nombre=".concat(t.filter),n+="&sortBy=".concat(t.sortBy),n+="&direction=".concat(e)}},middleware:"us-admin"},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("PageHeader",{attrs:{title:t.title,items:t.items}}),t._v(" "),n("GeneralInstitucionAddModal"),t._v(" "),n("GeneralInstitucionEditModal"),t._v(" "),n("GeneralInstitucionDeleteModal"),t._v(" "),n("div",{staticClass:"row mx-4"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("h2",{staticClass:"card-title"},[t._v("Listado de instituciones")]),t._v(" "),n("div",{directives:[{name:"permission",rawName:"v-permission",value:"INSTITUCION_CREATE",expression:"'INSTITUCION_CREATE'"}],staticClass:"card-options"},[n("b-button",{staticClass:"w-sm",attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.requestAddItem()}}},[n("i",{staticClass:"fa fa-fw fa-plus"}),t._v(" Agregar\n            ")])],1)]),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"row mt-4"},[n("div",{staticClass:"col-sm-12 col-md-6"},[n("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[n("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\n                  Mostrar \n                  "),n("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v("\n                   registros\n                ")],1)])]),t._v(" "),n("div",{staticClass:"col-sm-12 col-md-6"},[n("div",{staticClass:"dataTables_filter text-md-end",attrs:{id:"tickets-table_filter"}},[n("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\n                  Buscar: \n                  "),n("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)])])]),t._v(" "),n("div",{staticClass:"table-responsive mb-0"},[n("b-table",{ref:"table",class:"table-nowrap",attrs:{responsive:"sm",busy:t.isBusy,items:t.tableData,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"","show-empty":""},on:{"update:busy":function(e){t.isBusy=e},"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"empty",fn:function(){return[n("p",{staticClass:"text-center"},[t._v("No hay registros para mostrar")])]},proxy:!0},{key:"cell(opciones)",fn:function(data){return[n("ul",{staticClass:"list-inline two-options mb-0"},[n("li",{directives:[{name:"permission",rawName:"v-permission",value:"INSTITUCION_DESTROY",expression:"'INSTITUCION_DESTROY'"}],staticClass:"list-inline-item"},[n("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-primary",attrs:{href:"javascript:void(0);",title:"Editar"},on:{click:function(e){return t.requestEditItem(data.item)}}},[n("i",{staticClass:"uil uil-pen font-size-18"})])]),t._v(" "),n("li",{directives:[{name:"permission",rawName:"v-permission",value:"INSTITUCION_EDIT",expression:"'INSTITUCION_EDIT'"}],staticClass:"list-inline-item"},[n("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-danger",attrs:{href:"javascript:void(0);",title:"Eliminar"},on:{click:function(e){return t.requestDeleteItem(data.item)}}},[n("i",{staticClass:"uil uil-trash-alt font-size-18"})])])])]}}])})],1),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[n("ul",{staticClass:"pagination pagination-rounded mb-0"},[n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PageHeader:n(585).default,GeneralInstitucionAddModal:n(650).default,GeneralInstitucionEditModal:n(651).default,GeneralInstitucionDeleteModal:n(652).default})}}]);