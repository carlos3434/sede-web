(window.webpackJsonp=window.webpackJsonp||[]).push([[53,25,26,54],{476:function(e,t,n){"use strict";n.r(t);var o={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},r=n(12),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row mx-lg-4"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[n("h4",{staticClass:"mb-0"},[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"page-title-right"},[n("b-breadcrumb",{staticClass:"m-0",attrs:{items:e.items}})],1)])])])}),[],!1,null,null,null);t.default=component.exports},519:function(e,t,n){"use strict";n.r(t),n.d(t,"listReportes",(function(){return o}));var o=[{id:1,link:"postulantesadhoc",nombre:"Postulantes al proceso de seleccion verificadores AdHoc"},{id:2,link:"postulantesadhoc",nombre:"Postulantes a verificadores AdHoc del cenepred"},{id:3,link:"postulantesadhoc",nombre:"Requerimiento de pago de verificadores AdHoc"},{id:4,link:"postulantesadhoc",nombre:"Actas de conformidad de pago"},{id:5,link:"postulantesadhoc",nombre:"Avance de verificaciones AdHoc"},{id:6,link:"postulantesadhoc",nombre:"Verificadores AdHoc del CENEPRED"},{id:7,link:"postulantesadhoc",nombre:"Verificadores AdHoc por sede registral"},{id:8,link:"postulantesadhoc",nombre:"Relación de administrados"},{id:9,link:"postulantesadhoc",nombre:"Relación de postulantes al proceso de selección AdHoc"}]},538:function(e,t,n){"use strict";n.r(t);var o=n(26),r=(n(69),n(192),n(15),n(35),n(43),n(191),n(477)),l=(n(478),n(479),{components:{DatePicker:r.default},props:{title:{type:String,default:"Descargar Reporte"}},data:function(){return{modalId:"modal-add",openModalEvent:"open-reporte-modal",refreshTableEvent:"refresh-table",msgSuccess:"Verificación creada exitosamente!!!",isExcel:!0,isPdf:!1,isDownloading:!1,item:{id:null,nombre:"",link:""},listSedes:[],sedeSelected:null,fechaSelected:null}},mounted:function(){this.loadSelectOptions()},created:function(){var e=this;this.$nuxt.$on(this.openModalEvent,(function(t){e.setItemValues(t),e.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId)},resetModal:function(){this.resetFormValues()},showNotification:function(e,t){this.$notify({group:"noti",type:e,text:t})},setItemValues:function(e){this.item.id=e.id,this.item.nombre=e.nombre,this.item.link=e.link},resetFormValues:function(){this.item.id="",this.item.nombre="",this.item.link="",this.sedeSelected=null,this.fechaSelected=null},handleOk:function(e){e.preventDefault(),this.onSubmit()},onSubmit:function(){var e=this;this.$refs.form.validate().then((function(t){if(t){e.isDownloading=!0;var n=e.isExcel?"excel=true":"",o=e.isPdf?"pdf=true":"",r=e.$config.reportebaseurl+e.item.link+"?"+n+o;e.$axios({url:r,method:"GET",responseType:"blob"}).then((function(e){var link=document.createElement("a");link.href=window.URL.createObjectURL(e.data),link.download="reporte-".concat((new Date).getTime(),".xlsx"),link.click()})).finally((function(){e.isDownloading=!1,e.refreshTable(),e.hideModal()}))}}))},loadSelectOptions:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/listasParaExperienciaGeneral").then((function(t){e.listSedes=[{id:1,nombre:"Sede 1"},{id:2,nombre:"Sede 2"}]}));case 2:case"end":return t.stop()}}),t)})))()}}}),d=n(12),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-modal",{attrs:{id:e.modalId,title:e.title},on:{ok:e.handleOk,hidden:e.resetModal},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var o=t.ok,r=t.cancel;return[n("b-button",{attrs:{size:"md",variant:"link",disabled:e.isDownloading},on:{click:function(e){return r()}}},[e._v(" Cancelar")]),e._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"primary",disabled:e.isDownloading},on:{click:function(e){return o()}}},[e.isDownloading?n("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):n("i",{staticClass:"fas fa-download"}),e._v(" Descargar\n      ")])]}}])},[n("p",{staticClass:"text-primary"},[n("b",[e._v(e._s(e.item.nombre))])]),e._v(" "),n("ValidationObserver",{ref:"form",on:{submit:function(e){e.preventDefault()}},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.handleSubmit;return[n("b-form",{on:{submit:function(t){return t.preventDefault(),o(e.onSubmit)}}},[n("ValidationProvider",{attrs:{rules:"required",name:"Sede"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.valid,r=t.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Sede Regitral:"}},[n("multiselect-c",{class:r[0]?"is-invalid":o?"is-valid":"",attrs:{options:e.listSedes,label:"nombre","track-by":"id",placeholder:"Elija una sede regitral"},model:{value:e.sedeSelected,callback:function(t){e.sedeSelected=t},expression:"sedeSelected"}},[n("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n              "+e._s(r[0])+"\n            ")])],1)]}}],null,!0)}),e._v(" "),n("ValidationProvider",{attrs:{mode:"eager",rules:"required",name:"Fecha"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.valid,r=t.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Fecha:"}},[n("date-picker",{class:r[0]?"is-invalid":o?"is-valid":"",attrs:{"first-day-of-week":1,lang:"es",format:"YYYY-MM-DD",valueType:"format","disabled-date":function(t){return t>=e.$moment()}},model:{value:e.fechaSelected,callback:function(t){e.fechaSelected=t},expression:"fechaSelected"}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n              "+e._s(r[0])+"\n            ")])],1)]}}],null,!0)})],1)]}}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports},581:function(e,t,n){"use strict";n.r(t);var o=n(519),r={layout:"vertical",head:function(){return{title:"".concat(this.title," | CENEPRED")}},data:function(){return{title:"Cuadro de Méritos",items:[{text:"Admin"},{text:"Curriculum Vitae"},{text:"Cuadro de Méritos",active:!0}],tableData:o.listReportes,sortBy:"id",fields:[{label:"#",key:"id",sortable:!1,visible:!0},{label:"Reportes",key:"nombre",sortable:!1,visible:!0},{label:"Opciones",key:"opciones",sortable:!1,visible:!0,class:"bs-option-col",thClass:"bs-option-col-header"}]}},created:function(){var e=this;this.$nuxt.$on("refresh-table",(function(){e.refreshTable()}))},beforeDestroy:function(){this.$nuxt.$off("refresh-table")},methods:{requestReporte:function(e){this.$nuxt.$emit("open-reporte-modal",e)},refreshTable:function(){this.$refs.table.refresh()},getItems:function(e){}},middleware:"us-adhoc"},l=n(12),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("PageHeader",{attrs:{title:e.title,items:e.items}}),e._v(" "),n("ReporteFiltroModal"),e._v(" "),n("div",{staticClass:"row mx-lg-4"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[e._m(0),e._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"table-responsive mb-0"},[n("b-table",{ref:"table",attrs:{responsive:"sm",items:e.tableData,fields:e.fields,hover:""},scopedSlots:e._u([{key:"cell(opciones)",fn:function(data){return[n("b-button",{staticClass:"w-sm",attrs:{size:"sm",variant:"outline-info"},on:{click:function(t){return e.requestReporte(data.item)}}},[n("i",{staticClass:"fas fa-download"}),e._v(" Descargar\n                ")])]}}])})],1)])])])])],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card-header"},[n("h2",{staticClass:"card-title"},[e._v("Listado de reportes")])])}],!1,null,null,null);t.default=component.exports;installComponents(component,{PageHeader:n(476).default,ReporteFiltroModal:n(538).default})}}]);