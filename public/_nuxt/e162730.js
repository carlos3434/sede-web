(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{641:function(e,t,o){"use strict";o.r(t);o(15);var n=o(586),r=(o(587),o(588),{components:{DatePicker:n.default},props:{title:{type:String,default:"Solicitar Verificación AdHoc"}},data:function(){return{modalId:"modal-solicitar-verificacion",openModalEvent:"open-solicitar-verificacion-modal",refreshTableEvent:"refresh-table",msgSuccess:"Solicitud enviada exitosamente!!!",isProcessing:!1,item:{ht:""},nombre_comercial:null,estadisticas:{completados:0,total:0},id_expediente:null}},created:function(){var e=this;this.$nuxt.$on(this.openModalEvent,(function(t){e.setItemValues(t),e.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId)},resetModal:function(){this.resetFormValues()},setItemValues:function(e){this.id_expediente=e.id,this.nombre_comercial=e.nombre_comercial,this.estadisticas.completados=e.estadisticas.completados,this.estadisticas.total=e.estadisticas.total},resetFormValues:function(){this.id_expediente="",this.nombre_comercial="",this.isProcessing=!1},handleOk:function(e){e.preventDefault(),this.onSubmit()},onSubmit:function(){var e=this;this.$refs.form.validate().then((function(t){if(t){e.isProcessing=!0;var data=new FormData;for(var o in data.append("_method","put"),e.item)data.append(o,e.item[o]);var n="/expedienteadhoc/"+e.id_expediente+"/solicitar_verificacion_adhoc";e.$axios.post(n,data).then((function(t){e.$notify({type:"success",text:e.msgSuccess})})).finally((function(){e.refreshTable(),e.hideModal()}))}}))}}}),l=o(12),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{attrs:{id:e.modalId,title:e.title,size:"md"},on:{ok:e.handleOk,hidden:e.resetModal},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.ok,r=t.cancel;return[o("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(e){return r()}}},[e._v(" Cancelar")]),e._v(" "),o("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{type:"submit",size:"md",variant:"primary",title:e.title,disabled:e.isProcessing},on:{click:function(e){return n()}}},[o("span",{directives:[{name:"show",rawName:"v-show",value:e.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),e._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:!e.isProcessing,expression:"!isProcessing"}],staticClass:"fas fa-paper-plane"}),e._v(" Solicitar\n      ")])]}}])},[o("ValidationObserver",{ref:"form",on:{submit:function(e){e.preventDefault()}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[o("b-form",{on:{submit:function(t){return t.preventDefault(),n(e.onSubmit)}}},[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Nombre Comercial:"}},[o("b-form-input",{attrs:{type:"text",readonly:"",value:e.nombre_comercial}})],1),e._v(" "),o("b-form-group",{staticClass:"mb-3",attrs:{label:"Documentos Cargados:"}},[o("p",{staticStyle:{margin:"0"}},[o("span",{staticClass:"text-info text-truncate mb-0"},[o("b",[e._v(e._s(e.estadisticas.completados))]),e._v("\n              de\n              "),o("b",[e._v(e._s(e.estadisticas.total))]),e._v(" archivos\n            ")])])]),e._v(" "),o("ValidationProvider",{attrs:{rules:"required|numeric",name:"Número"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.validated,r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Nº de Hoja de Trámite:"}},[o("b-form-input",{attrs:{type:"number",state:!(!n||!r)||!l[0]&&null},model:{value:e.item.ht,callback:function(t){e.$set(e.item,"ht",t)},expression:"item.ht"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(l[0]))])],1)]}}],null,!0)})],1)]}}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);