(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{688:function(t,e,o){"use strict";o.r(e);o(1);var l={props:{id_expediente:{type:String,default:null},estado_expediente:{type:String,default:null},categoria:{type:Object,default:{}},visible:{type:Boolean,default:!1},numero:{type:String,default:"00"}},data:function(){return{fields:[{label:"Documento",key:"nombre_archivo",sortable:!1,visible:!0},{label:"Estado",key:"estado_revision_nombre",sortable:!1,visible:!0,class:"bs-option-col",thClass:"bs-option-col-header"},{label:"Archivo",key:"valor_archivo",sortable:!1,visible:!0,class:"bs-option-col",thClass:"bs-option-col-header"},{label:"Opciones",key:"opciones",sortable:!1,visible:!1,class:"bs-option-col",thClass:"bs-option-col-header"}]}},computed:{visibleFields:function(){var t=this;return this.fields.filter((function(e){if("opciones"===e.key)switch(t.estado_expediente){case"CREADO":case"OBSERVADO":e.visible=!0;break;default:e.visible=!1}})),this.fields.filter((function(t){return t.visible}))}},methods:{refreshTable:function(){this.getExpedienteData()},requestEditItem:function(t){t.id_expediente=this.id_expediente,this.$nuxt.$emit("open-edit-modal",t)},requestDeleteItem:function(t){t.id_expediente=this.id_expediente,this.$nuxt.$emit("open-delete-modal",t)},colorEstadoDocumento:function(t){var e="info";switch(t){case"OBSERVADO":e="danger"}return e},checkStatusToEdit:function(t){return"CREADO"==this.estado_expediente||"OBSERVADO"==t}}},n=o(12),component=Object(n.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card",staticStyle:{"border-top":"2px solid #50a5f1"}},[o("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"documentos-"+t.numero,expression:"`documentos-` + numero"}],staticClass:"text-dark",attrs:{href:"javascript: void(0);","data-toggle":"collapse"}},[o("div",{staticClass:"p-2"},[o("div",{staticClass:"media align-items-center"},[o("div",{staticClass:"me-3"},[o("div",{staticClass:"avatar-xs"},[o("div",{staticClass:"avatar-title rounded-circle bg-soft-primary text-primary"},[t._v(t._s(t.numero))])])]),t._v(" "),o("div",{staticClass:"media-body overflow-hidden"},[o("h5",{staticClass:"font-size-16 mb-1"},[t._v("\n            "+t._s(t.categoria.nombre)+"\n          ")]),t._v(" "),o("p",{staticClass:"text-info text-truncate mb-0"},[o("b",[t._v(t._s(t.categoria.estadisticas.completados))]),t._v("\n            de\n            "),o("b",[t._v(t._s(t.categoria.estadisticas.total))]),t._v("\n            documentos cargados\n          ")])]),t._v(" "),o("i",{staticClass:"mdi mdi-chevron-up accor-down-icon font-size-24"})])])]),t._v(" "),o("b-collapse",{attrs:{id:"documentos-"+t.numero,visible:t.visible}},[o("div",{staticClass:"p-4 border-top"},[o("b-table",{attrs:{hover:"",items:t.categoria.archivos,fields:t.visibleFields},scopedSlots:t._u([{key:"cell(valor_archivo)",fn:function(data){return[data.value?[o("a",{staticClass:"text-decoration",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.$downloadFile(data.value)}}},[o("i",{staticClass:"uil uil-file-info-alt font-size-18"}),t._v(" Ver Documento\n            ")])]:[o("span",{staticClass:"text-danger"},[o("i",{staticClass:"uil uil-multiply font-size-18"}),t._v(" Sin documento ")])]]}},{key:"cell(estado_revision_nombre)",fn:function(data){return[data.item.valor_archivo&&data.value?[o("span",{staticClass:"badge font-size-12",class:"bg-soft-"+t.colorEstadoDocumento(data.value)},[t._v("\n              "+t._s(data.value)+"\n            ")])]:t._e()]}},{key:"cell(opciones)",fn:function(data){return[t.checkStatusToEdit(data.item.estado_revision_nombre)?o("ul",{staticClass:"list-inline two-options mb-0"},[o("li",{staticClass:"list-inline-item"},[o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-primary",attrs:{href:"javascript:void(0);",title:"Editar"},on:{click:function(e){return t.requestEditItem(data.item)}}},[o("i",{staticClass:"uil uil-pen font-size-18"})])]),t._v(" "),data.item.valor_archivo?o("li",{staticClass:"list-inline-item"},[o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-danger",attrs:{href:"javascript:void(0);",title:"Eliminar"},on:{click:function(e){return t.requestDeleteItem(data.item)}}},[o("i",{staticClass:"uil uil-trash-alt font-size-18"})])]):t._e()]):t._e()]}}])})],1)])],1)}),[],!1,null,null,null);e.default=component.exports}}]);