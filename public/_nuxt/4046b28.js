(window.webpackJsonp=window.webpackJsonp||[]).push([[46,25],{476:function(t,e,r){"use strict";r.r(e);var l={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},n=r(12),component=Object(n.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row mx-lg-4"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[r("h4",{staticClass:"mb-0"},[t._v(t._s(t.title))]),t._v(" "),r("div",{staticClass:"page-title-right"},[r("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])}),[],!1,null,null,null);e.default=component.exports},577:function(t,e,r){"use strict";r.r(e);r(13),r(1);var l={layout:"vertical",head:function(){return{title:"".concat(this.title," | CENEPRED")}},data:function(){return{title:"Documentos",items:[{text:"Admin"},{text:"Curriculum Vitae"},{text:"Documentos",active:!0}],isBusy:!1,tableData:this.getItems,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:"",filterOn:[],sortBy:"especialidad",sortDesc:!1,fields:[{label:"Título o Grado",key:"grado",sortable:!1,visible:!0},{label:"Especialidad",key:"especialidad",sortable:!0,visible:!0},{label:"F. Expedición",key:"fecha_expedicion",sortable:!0,visible:!0,class:"text-center"},{label:"Institución",key:"institucion",sortable:!1,visible:!0},{label:"Ciudad",key:"ciudad",sortable:!0,visible:!0},{label:"Opciones",key:"opciones",sortable:!1,visible:!0,class:"bs-option-col",thClass:"bs-option-col-header"}]}},computed:{userEstaPostulando:function(){var u=this.$auth.user.esta_postulando;return this.fields.map((function(t){"opciones"===t.key&&u&&(t.visible=!1)})),u},visibleFields:function(){return this.fields.filter((function(t){return t.visible}))}},created:function(){var t=this;this.$nuxt.$on("refresh-table",(function(){t.refreshTable()}))},beforeDestroy:function(){this.$nuxt.$off("refresh-table")},methods:{requestDeleteItem:function(t){this.$nuxt.$emit("open-delete-modal",t)},requestEditItem:function(t){this.$nuxt.$emit("open-edit-modal",t)},requestAddItem:function(){this.$nuxt.$emit("open-add-modal")},refreshTable:function(){this.$refs.table.refresh()},getItems:function(t){var e=this,r=this.filtersTable(t);return this.$axios.get("/formaciones"+r).then((function(t){var r=t.data.data;return e.currentPage=t.data.meta.current_page,e.totalRows=t.data.meta.total,e.isBusy=!1,r})).catch((function(t){return e.isBusy=!1,[]}))},filtersTable:function(t){var e=t.sortDesc?"DESC":"ASC",r="?page=".concat(t.currentPage);return r+="&per_page=".concat(t.perPage),r+=t.filter?"&especialidad=".concat(t.filter):"",r+=t.sortBy?"&sortBy=".concat(t.sortBy):"",r+="&direction=".concat(e)}},middleware:"us-adhoc"},n=r(12),component=Object(n.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("PageHeader",{attrs:{title:t.title,items:t.items}}),t._v(" "),r("CvFormacionGradeAddModal"),t._v(" "),r("CvFormacionGradeEditModal"),t._v(" "),r("CvFormacionGradeDeleteModal"),t._v(" "),r("div",{staticClass:"row mx-lg-4"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("h2",{staticClass:"card-title"},[t._v("Listado de documentos")]),t._v(" "),r("div",{directives:[{name:"permission",rawName:"v-permission:all",value:"FORMACION_CREATE",expression:"'FORMACION_CREATE'",arg:"all"},{name:"show",rawName:"v-show",value:!t.userEstaPostulando,expression:"!userEstaPostulando"}],staticClass:"card-options"},[r("b-button",{staticClass:"w-sm",attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.requestAddItem()}}},[r("i",{staticClass:"fa fa-fw fa-plus"}),t._v(" Agregar\n            ")])],1)]),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"row mt-4"},[r("div",{staticClass:"col-sm-12 col-md-6"},[r("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[r("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\n                  Mostrar \n                  "),r("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v("\n                   registros\n                ")],1)])]),t._v(" "),r("div",{staticClass:"col-sm-12 col-md-6"},[r("div",{staticClass:"dataTables_filter text-md-end",attrs:{id:"tickets-table_filter"}},[r("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\n                  Buscar: \n                  "),r("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)])])]),t._v(" "),r("div",{staticClass:"table-responsive mb-0"},[r("b-table",{ref:"table",attrs:{responsive:"sm",busy:t.isBusy,items:t.tableData,fields:t.visibleFields,"per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn,striped:""},on:{"update:busy":function(e){t.isBusy=e},"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([t.userEstaPostulando?null:{key:"cell(opciones)",fn:function(data){return[r("ul",{staticClass:"list-inline mb-0"},[r("li",{directives:[{name:"permission",rawName:"v-permission",value:"FORMACION_EDIT",expression:"'FORMACION_EDIT'"}],staticClass:"list-inline-item"},[r("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-primary",attrs:{href:"javascript:void(0);",title:"Editar"},on:{click:function(e){return t.requestEditItem(data.item)}}},[r("i",{staticClass:"uil uil-pen font-size-18"})])]),t._v(" "),r("li",{directives:[{name:"permission",rawName:"v-permission",value:"FORMACION_DESTROY",expression:"'FORMACION_DESTROY'"}],staticClass:"list-inline-item"},[r("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-danger",attrs:{href:"javascript:void(0);",title:"Eliminar"},on:{click:function(e){return t.requestDeleteItem(data.item)}}},[r("i",{staticClass:"uil uil-trash-alt font-size-18"})])])])]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[r("ul",{staticClass:"pagination pagination-rounded mb-0"},[r("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PageHeader:r(476).default})}}]);