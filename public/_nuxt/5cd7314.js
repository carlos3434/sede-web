(window.webpackJsonp=window.webpackJsonp||[]).push([[98,36,68],{585:function(t,e,r){"use strict";r.r(e);var n={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},o=r(12),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row mx-lg-4"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[r("h4",{staticClass:"mb-0"},[t._v(t._s(t.title))]),t._v(" "),r("div",{staticClass:"page-title-right"},[r("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])}),[],!1,null,null,null);e.default=component.exports},592:function(t,e,r){"use strict";r.r(e);r(11),r(15);var n=r(586),o=(r(587),r(588),{components:{DatePicker:n.default},props:{title:{type:String,default:"Acreditación"}},data:function(){return{modalId:"modal-acreditar",openModalEvent:"open-acreditar-modal",refreshTableEvent:"refresh-table",apiUrl:"/acreditaciones",msgSuccess:"Acreditación guardada exitosamente!!!",user:{fullname:"",dni:"",sede:"",puntaje:""},item:{calificacion_id:null,fecha_inicio:"",fecha_fin:""}}},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(e){t.setItemValues(e),t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId)},resetModal:function(){this.resetFormValues()},setItemValues:function(t){this.user.fullname="".concat(t.usuario_nombres," ").concat(t.usuario_apellido_paterno," ").concat(t.usuario_apellido_materno),this.user.dni=t.usuario_numero_documento,this.user.sede=t.sede_registral_nombre,this.user.puntaje=t.puntaje_total,this.item.calificacion_id=t.id},resetFormValues:function(){this.user.fullname="",this.user.dni="",this.user.sede="",this.user.puntaje="",this.item.calificacion_id=null,this.item.fecha_inicio="",this.item.fecha_fin=""},handleOk:function(t){t.preventDefault(),this.onSubmit()},onSubmit:function(){var t=this;this.$refs.form.validate().then((function(e){e&&t.$axios.post(t.apiUrl,t.item).then((function(e){t.$notify({type:"success",text:t.msgSuccess})})).finally((function(){t.refreshTable(),t.hideModal()}))}))}}}),l=r(12),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-modal",{attrs:{id:t.modalId,title:t.title,size:"lg"},on:{ok:t.handleOk,hidden:t.resetModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var n=e.ok,o=e.cancel;return[r("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return o()}}},[t._v(" Cancelar")]),t._v(" "),r("b-button",{attrs:{type:"submit",size:"md",variant:"primary"},on:{click:function(t){return n()}}},[r("i",{staticClass:"fas fa-award"}),t._v(" Acreditar\n      ")])]}}])},[r("ValidationObserver",{ref:"form",on:{submit:function(t){t.preventDefault()}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.handleSubmit;return[r("b-form",{on:{submit:function(e){return e.preventDefault(),n(t.onSubmit)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label"},[t._v("DNI:")]),t._v(" "),r("p",[t._v(t._s(t.user.dni))])]),t._v(" "),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label"},[t._v("Nombre:")]),t._v(" "),r("p",[t._v(t._s(t.user.fullname))])])]),t._v(" "),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label"},[t._v("Sede Registral:")]),t._v(" "),r("p",[t._v(t._s(t.user.sede))])]),t._v(" "),r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label"},[t._v("Puntaje:")]),t._v(" "),r("p",[t._v(t._s(t.user.puntaje))])])])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("ValidationProvider",{attrs:{mode:"eager",rules:"required|before_or_equal:@target_fecha_final",name:"Fecha Inicio"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.validated,o=e.valid,l=e.errors;return[r("b-form-group",{staticClass:"mb-3",attrs:{label:"Fecha Inicio:"}},[r("date-picker",{class:n&&o?"is-valid":l[0]?"is-invalid":"",attrs:{"first-day-of-week":1,lang:"es",format:"YYYY-MM-DD",valueType:"format","disabled-date":function(e){return e>=t.$moment().subtract(1,"days")}},model:{value:t.item.fecha_inicio,callback:function(e){t.$set(t.item,"fecha_inicio",e)},expression:"item.fecha_inicio"}}),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:l.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(l[0])+"\n                ")])],1)]}}],null,!0)})],1),t._v(" "),r("div",{staticClass:"col-md-6"},[r("ValidationProvider",{attrs:{mode:"eager",vid:"target_fecha_final",rules:"required",name:"Fecha Fin"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.validated,o=e.valid,l=e.errors;return[r("b-form-group",{staticClass:"mb-3",attrs:{label:"Fecha Final:"}},[r("date-picker",{class:n&&o?"is-valid":l[0]?"is-invalid":"",attrs:{"first-day-of-week":1,lang:"es",format:"YYYY-MM-DD",valueType:"format","disabled-date":function(e){return e>=t.$moment().subtract(1,"days")}},model:{value:t.item.fecha_fin,callback:function(e){t.$set(t.item,"fecha_fin",e)},expression:"item.fecha_fin"}}),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:l.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(l[0])+"\n                ")])],1)]}}],null,!0)})],1)])])]}}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports},635:function(t,e,r){var content=r(699);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(29).default)("2e255dab",content,!0,{sourceMap:!1})},698:function(t,e,r){"use strict";r(635)},699:function(t,e,r){var n=r(28)(!1);n.push([t.i,".card-body[data-v-a09f0682] .select-filtro{max-width:165px;width:165px}.card-body[data-v-a09f0682] .select-puntaje{max-width:100px;width:100px}",""]),t.exports=n},746:function(t,e,r){"use strict";r.r(e);r(1);var n={layout:"vertical",head:function(){return{title:"".concat(this.title," | CENEPRED")}},data:function(){return{title:"Calificación",items:[{text:"Admin"},{text:"Selección verificadores AdHoc"},{text:"Calificación",active:!0}],nombreConvocatoria:"",filtro:"",puntaje:"",urlTableData:"/calificacion",tableData:this.getItems,isBusy:!1,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],sortDesc:!1,sortBy:"usuario_apellido_paterno",fields:[{label:"Nro. Documento",key:"usuario_numero_documento",sortable:!0,visible:!0,class:"bs-date-col"},{label:"Usuario AdHoc",key:"usuario_nombres",sortable:!0,visible:!0},{label:"Sede",key:"sede_registral_nombre",sortable:!0,visible:!0},{label:"Puntaje Total",key:"puntaje_total",sortable:!0,visible:!0,class:"bs-date-col"},{label:"¿Acreditado?",key:"esta_acreditado",sortable:!0,visible:!0,class:"bs-date-col"},{label:"Opciones",key:"opciones",sortable:!1,visible:!0,class:"bs-option-col-left",thClass:"bs-option-col-header"}]}},watch:{filtro:function(t){this.puntaje=""==t?"":this.puntaje}},computed:{visibleFields:function(){return this.fields.filter((function(t){return t.visible}))}},created:function(){var t=this;this.$nuxt.$on("refresh-table",(function(){t.refreshTable()}))},beforeDestroy:function(){this.$nuxt.$off("refresh-table")},methods:{requestAcreditarItem:function(t){this.$nuxt.$emit("open-acreditar-modal",t)},refreshTable:function(){this.$refs.table.refresh()},getItems:function(t){var e=this,r=this.filtersTable(t);return this.$axios.get(this.urlTableData+r).then((function(t){var r=t.data.data;return e.currentPage=t.data.meta.current_page,e.totalRows=t.data.meta.total,e.isBusy=!1,e.nombreConvocatoria=t.data.additional_data.convocatoria_actual.nombre,r})).catch((function(t){return e.isBusy=!1,[]}))},filtersTable:function(t){var e=t.sortDesc?"DESC":"ASC",r="?page=".concat(t.currentPage);return r+="&per_page=".concat(t.perPage),r+=t.sortBy?"&sortBy=".concat(t.sortBy):"",r+="&direction=".concat(e),r+=this.filtro?"&filtro=".concat(this.filtro):"",r+=this.puntaje?"&puntaje=".concat(this.puntaje):""}},middleware:"us-cenepred"},o=(r(698),r(12)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("PageHeader",{attrs:{title:t.title,items:t.items}}),t._v(" "),r("CenepredSeleccionCalificacionesAcreditarModal"),t._v(" "),r("div",{staticClass:"row mx-lg-4"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("h2",{staticClass:"card-title"},[t._v("\n            Calificaciones de la convocatoria: "),r("span",{staticClass:"text-info"},[t._v(t._s(t.nombreConvocatoria))])])]),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"row mt-4"},[r("div",{staticClass:"col-sm-12 col-md-6"},[r("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[r("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\n                  Mostrar  \n                  "),r("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v("\n                    registros\n                ")],1)])]),t._v(" "),r("div",{staticClass:"col-sm-12 col-md-6"},[r("div",{staticClass:"dataTables_filter text-md-end float-end",attrs:{id:"tickets-table_filter"}},[r("div",{staticClass:"input-group mb-3"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.filtro,expression:"filtro"}],staticClass:"form-select select-filtro",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.filtro=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}},[t._v("Sin Filtro")]),t._v(" "),r("option",{attrs:{value:"="}},[t._v("Igual a:")]),t._v(" "),r("option",{attrs:{value:">"}},[t._v("Mayor que:")]),t._v(" "),r("option",{attrs:{value:">="}},[t._v("Mayor o igual que:")]),t._v(" "),r("option",{attrs:{value:"<"}},[t._v("Menor que:")]),t._v(" "),r("option",{attrs:{value:"<="}},[t._v("Menor o igual que:")])]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.puntaje,expression:"puntaje"}],staticClass:"form-control select-puntaje",attrs:{type:"number",placeholder:"0"},domProps:{value:t.puntaje},on:{input:function(e){e.target.composing||(t.puntaje=e.target.value)}}}),t._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.refreshTable}},[t._v("Filtrar por puntaje")])])])])]),t._v(" "),r("div",{staticClass:"table-responsive mb-0"},[r("b-table",{ref:"table",class:"table-nowrap",attrs:{responsive:"sm",busy:t.isBusy,items:t.tableData,fields:t.visibleFields,"per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,striped:"","show-empty":""},on:{"update:busy":function(e){t.isBusy=e},"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"empty",fn:function(){return[r("p",{staticClass:"text-center"},[t._v("No hay registros para mostrar")])]},proxy:!0},{key:"cell(usuario_nombres)",fn:function(data){return[t._v("\n                "+t._s(data.value)+"\n                "+t._s(data.item.usuario_apellido_paterno)+"\n                "+t._s(data.item.usuario_apellido_materno)+"\n              ")]}},{key:"cell(esta_acreditado)",fn:function(data){return[r("b",{class:"text-"+(data.value?"info":"danger")},[t._v("\n                  "+t._s(data.value?"Si":"No")+"\n                ")])]}},{key:"cell(opciones)",fn:function(data){return[r("ul",{staticClass:"list-inline two-options mb-0"},[r("li",{directives:[{name:"permission",rawName:"v-permission",value:"CALIFICACION_SHOW",expression:"'CALIFICACION_SHOW'"}],staticClass:"list-inline-item"},[r("nuxt-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-primary",attrs:{to:"/admin/cenepred/seleccion/calificacion/"+data.item.id+"/detalle",title:"Ver Datos"}},[r("i",{staticClass:"uil uil-eye font-size-18"})])],1),t._v(" "),data.item.esta_calificado?t._e():r("li",{directives:[{name:"permission",rawName:"v-permission",value:"CALIFICACION_EDIT",expression:"'CALIFICACION_EDIT'"}],staticClass:"list-inline-item"},[r("nuxt-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-primary",attrs:{to:"/admin/cenepred/seleccion/calificacion/"+data.item.id+"/calificar",title:"Calificar"}},[r("i",{staticClass:"uil uil-star font-size-18"})])],1),t._v(" "),data.item.esta_acreditado?t._e():r("li",{directives:[{name:"permission",rawName:"v-permission",value:"ACREDITACION_CREATE",expression:"'ACREDITACION_CREATE'"}],staticClass:"list-inline-item"},[r("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-success",attrs:{href:"javascript:void(0);",title:"Acreditar"},on:{click:function(e){return t.requestAcreditarItem(data.item)}}},[r("i",{staticClass:"uil uil-award font-size-18"})])])])]}}])})],1),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[r("ul",{staticClass:"pagination pagination-rounded mb-0"},[r("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])])])],1)}),[],!1,null,"a09f0682",null);e.default=component.exports;installComponents(component,{PageHeader:r(585).default,CenepredSeleccionCalificacionesAcreditarModal:r(592).default})}}]);