(window.webpackJsonp=window.webpackJsonp||[]).push([[93,35,68],{585:function(t,e,n){"use strict";n.r(e);var r={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},o=n(12),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row mx-lg-4"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[n("h4",{staticClass:"mb-0"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"page-title-right"},[n("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])}),[],!1,null,null,null);e.default=component.exports},643:function(t,e,n){"use strict";n.r(e);n(15);var r={props:{title:{type:String,default:"Confirmación de notificación"}},data:function(){return{modalId:"modal-notificar",openModalEvent:"open-notificar-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/notificaciones/",msgSuccess:"Notificación enviada exitosamente!!!",item:{id:null,text:""}}},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(e){t.setItemValues(e),t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return this.apiUrlPartial+this.item.id}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId),this.resetFormValues()},setItemValues:function(t){this.item.id=t.diligencia_id,this.item.text=t.administrado_full_name},resetFormValues:function(){this.item.id=null,this.item.text=""},handleOk:function(t){t.preventDefault(),this.onSubmit()},onSubmit:function(){var t=this;this.item.id&&this.$axios.post(this.apiUrl).then((function(e){t.$notify({type:"success",text:t.msgSuccess})})).finally((function(){t.refreshTable(),t.hideModal()}))}}},o=n(12),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:t.modalId,title:t.title},on:{ok:t.handleOk,hidden:t.hideModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.ok,o=e.cancel;return[n("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return o()}}},[t._v(" Cancelar ")]),t._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"primary"},on:{click:function(t){return r()}}},[n("i",{staticClass:"fas fa-paper-plane"}),t._v(" Si, notificar\n      ")])]}}])},[n("p",[t._v("¿Está seguro que desea notificar al siguiente usuario administrado?")]),t._v(" "),n("p",[n("b",[t._v(t._s(t.item.text))])])])],1)}),[],!1,null,null,null);e.default=component.exports},731:function(t,e,n){"use strict";n.r(e);var r={layout:"vertical",head:function(){return{title:"".concat(this.title," | CENEPRED")}},data:function(){var t="Informe de Verificación AdHoc";return{title:t,items:[{text:"Admin"},{text:"Notificaciones"},{text:t,active:!0}],urlTableData:"/notificaciones",tableData:this.getItems,isBusy:!1,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:"",sortDesc:!0,sortBy:"fecha_recepcion",fields:[{label:"Nombre Comercial",key:"nombre_comercial",sortable:!0},{label:"Administrado",key:"administrado_full_name",sortable:!0},{label:"Nº de Hoja de Trámite",key:"numero_hoja_tramite",sortable:!0,class:"bs-nro-document-col"},{label:"Informe de VAH",key:"anexo10",sortable:!1,class:"bs-date-col"},{label:"Opciones",key:"opciones",sortable:!1,class:"bs-option-col",thClass:"bs-option-col-header"}]}},created:function(){var t=this;this.$nuxt.$on("refresh-table",(function(){t.refreshTable()}))},beforeDestroy:function(){this.$nuxt.$off("refresh-table")},methods:{requestNotificar:function(t){this.$nuxt.$emit("open-notificar-modal",t)},refreshTable:function(){this.$refs.table.refresh()},getItems:function(t){var e=this,n=this.filtersTable(t);return this.$axios.get(this.urlTableData+n).then((function(t){var n=t.data.data;return e.currentPage=t.data.meta.current_page,e.totalRows=t.data.meta.total,e.isBusy=!1,n})).catch((function(t){return e.isBusy=!1,[]}))},filtersTable:function(t){var e=t.sortDesc?"DESC":"ASC",n="?page=".concat(t.currentPage);return n+="&per_page=".concat(t.perPage),n+=t.sortBy?"&sortBy=".concat(t.sortBy):"",n+="&direction=".concat(e)},checkStatusToNotify:function(t){return"INFORME ENTREGADO"==t},checkStatusNotified:function(t){return"ADMINISTRADO NOTIFICADO"==t}},middleware:"us-cenepred"},o=n(12),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("PageHeader",{attrs:{title:t.title,items:t.items}}),t._v(" "),n("CenepredInformeVerificacionNotificarModal"),t._v(" "),n("div",{staticClass:"row mx-lg-4"},[t._m(0),t._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[t._m(1),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"row mt-4"},[n("div",{staticClass:"col-sm-12 col-md-6"},[n("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[n("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\n                  Mostrar \n                  "),n("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v("\n                   registros\n                ")],1)])])]),t._v(" "),n("div",{staticClass:"table-responsive mb-0"},[n("b-table",{ref:"table",class:"table-nowrap",attrs:{responsive:"sm",busy:t.isBusy,items:t.tableData,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"","show-empty":""},on:{"update:busy":function(e){t.isBusy=e},"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"empty",fn:function(){return[n("p",{staticClass:"text-center"},[t._v("No hay registros para mostrar")])]},proxy:!0},{key:"cell(anexo10)",fn:function(data){return[data.value?[n("a",{staticClass:"text-decoration",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.$downloadFile(data.value)}}},[n("i",{staticClass:"uil uil-file-info-alt font-size-18"}),t._v(" Archivo adjunto\n                  ")])]:[n("span",[t._v("---")])]]}},{key:"cell(opciones)",fn:function(data){return[t.checkStatusToNotify(data.item.estado_expediente_nombre)?[n("b-button",{attrs:{type:"submit",size:"sm",variant:"outline-primary"},on:{click:function(e){return t.requestNotificar(data.item)}}},[n("i",{staticClass:"fas fa-paper-plane"}),t._v(" Notificar\n                  ")])]:t.checkStatusNotified(data.item.estado_expediente_nombre)?[n("span",{staticClass:"badge bg-soft-success font-size-12"},[n("b",[t._v("Notificado")])])]:[t._v(" --- ")]]}}])})],1),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[n("ul",{staticClass:"pagination pagination-rounded mb-0"},[n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])])])],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"alert alert-warning m-0",attrs:{role:"alert"}},[t._v("\n            Después de revisar el informe notifica al usuario administrado haciendo click en la opción\n            "),n("b",[t._v("Notificar")]),t._v(" ( "),n("b",[n("i",{staticClass:"fas fa-paper-plane"})]),t._v(" )\n          ")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-header"},[n("h2",{staticClass:"card-title"},[t._v("Listado de expedientes entregados")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{PageHeader:n(585).default,CenepredInformeVerificacionNotificarModal:n(643).default})}}]);