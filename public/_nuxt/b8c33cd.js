(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{638:function(e,t,r){"use strict";r.r(t);r(15);var n={props:{title:{type:String,default:"Ingresar Nuevo Expediente"}},data:function(){return{modalId:"modal-add",openModalEvent:"open-add-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/expedienteadhoc",msgSuccess:"Expediente creado exitosamente!!!",isProcessing:!1,item:{id:null,nombre_comercial:"",direccion:"",area:""}}},created:function(){var e=this;this.$nuxt.$on(this.openModalEvent,(function(){e.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId)},resetModal:function(){this.resetFormValues()},resetFormValues:function(){this.item.nombre_comercial="",this.item.direccion="",this.item.area="",this.isProcessing=!1},handleOk:function(e){e.preventDefault(),this.onSubmit()},onSubmit:function(){var e=this;this.$refs.form.validate().then((function(t){t&&(e.isProcessing=!0,e.$axios.post(e.apiUrlPartial,e.item).then((function(t){e.$notify({type:"success",text:e.msgSuccess})})).finally((function(){e.refreshTable(),e.hideModal()})))}))}}},o=r(12),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{attrs:{id:e.modalId,title:e.title,size:"lg"},on:{ok:e.handleOk,hidden:e.resetModal},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.ok,o=t.cancel;return[r("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(e){return o()}}},[e._v(" Cancelar")]),e._v(" "),r("b-button",{attrs:{type:"submit",size:"md",variant:"primary",disabled:e.isProcessing},on:{click:function(e){return n()}}},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),e._v(" "),r("i",{directives:[{name:"show",rawName:"v-show",value:!e.isProcessing,expression:"!isProcessing"}],staticClass:"fas fa-paper-plane"}),e._v(" Agregar\n      ")])]}}])},[r("ValidationObserver",{ref:"form",on:{submit:function(e){e.preventDefault()}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[r("b-form",{on:{submit:function(t){return t.preventDefault(),n(e.onSubmit)}}},[r("ValidationProvider",{attrs:{rules:"required|alpha_num_spaces",name:"Nombre"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.valid,o=t.errors;return[r("b-form-group",{staticClass:"mb-3",attrs:{label:"Nombre comercial:"}},[r("b-form-input",{attrs:{type:"text",state:!o[0]&&(!!n||null)},model:{value:e.item.nombre_comercial,callback:function(t){e.$set(e.item,"nombre_comercial",t)},expression:"item.nombre_comercial"}}),e._v(" "),r("b-form-invalid-feedback",[e._v(e._s(o[0]))])],1)]}}],null,!0)}),e._v(" "),r("ValidationProvider",{attrs:{rules:"required|alpha_num_spaces",name:"Dirección"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.valid,o=t.errors;return[r("b-form-group",{staticClass:"mb-3",attrs:{label:"Dirección comercial:"}},[r("b-form-input",{attrs:{type:"text",state:!o[0]&&(!!n||null)},model:{value:e.item.direccion,callback:function(t){e.$set(e.item,"direccion",t)},expression:"item.direccion"}}),e._v(" "),r("b-form-invalid-feedback",[e._v(e._s(o[0]))])],1)]}}],null,!0)}),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-6"},[r("ValidationProvider",{attrs:{rules:"required|numeric|integer",name:"Área"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.valid,o=t.errors;return[r("b-form-group",{staticClass:"mb-3",attrs:{label:"Área (m²) comercial"}},[r("b-form-input",{attrs:{type:"number",state:!o[0]&&(!!n||null)},model:{value:e.item.area,callback:function(t){e.$set(e.item,"area",t)},expression:"item.area"}}),e._v(" "),r("b-form-invalid-feedback",[e._v(e._s(o[0]))])],1)]}}],null,!0)})],1)])],1)]}}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);