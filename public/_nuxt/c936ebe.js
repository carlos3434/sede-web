(window.webpackJsonp=window.webpackJsonp||[]).push([[35,4,5,6,25],{476:function(t,e,n){"use strict";n.r(e);var o={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row mx-lg-4"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[n("h4",{staticClass:"mb-0"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"page-title-right"},[n("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])}),[],!1,null,null,null);e.default=component.exports},520:function(t,e,n){"use strict";n.r(e);n(15);var o={name:"ConfigAddModal",props:{title:{type:String,default:"Agregar Configuración"}},data:function(){return{modalId:"modal-add",openModalEvent:"open-add-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/configuraciones",msgSuccess:"Configuración creada exitosamente!!!",item:{id:null,nombre:"",valor:""}}},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(){t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return this.apiUrlPartial}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId),this.resetFormValues()},showNotification:function(t,e){this.$notify({group:"noti",type:t,text:e})},resetFormValues:function(){this.item.nombre="",this.item.valor=""},handleOk:function(t){t.preventDefault(),this.onSubmit()},onSubmit:function(){var t=this;this.$refs.form.validate().then((function(e){e&&t.$axios.post(t.apiUrl,t.item).then((function(e){t.showNotification("success",t.msgSuccess)})).finally((function(){t.refreshTable(),t.hideModal()}))}))}}},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:t.modalId,title:t.title},on:{ok:t.handleOk,hidden:t.hideModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.ok,r=e.cancel;return[n("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return r()}}},[t._v(" Cancelar")]),t._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"primary"},on:{click:function(t){return o()}}},[n("i",{staticClass:"fas fa-paper-plane"}),t._v(" Agregar\n      ")])]}}])},[n("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.handleSubmit;return[n("b-form",{on:{submit:function(e){return e.preventDefault(),o(t.onSubmit)},reset:t.hideModal}},[n("ValidationProvider",{attrs:{rules:"required",name:"Nombre"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Nombre:"}},[n("b-form-input",{attrs:{type:"text",state:!r[0]&&(!!o||null)},model:{value:t.item.nombre,callback:function(e){t.$set(t.item,"nombre",e)},expression:"item.nombre"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(r[0]))])],1)]}}],null,!0)}),t._v(" "),n("ValidationProvider",{attrs:{rules:"required",name:"Valor"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Valor:"}},[n("b-form-input",{attrs:{type:"text",state:!r[0]&&(!!o||null)},model:{value:t.item.valor,callback:function(e){t.$set(t.item,"valor",e)},expression:"item.valor"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(r[0]))])],1)]}}],null,!0)})],1)]}}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports},521:function(t,e,n){"use strict";n.r(e);n(15);var o={name:"ConfigEditModal",props:{title:{type:String,default:"Editar Configuración"}},data:function(){return{modalId:"modal-edit",openModalEvent:"open-edit-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/configuraciones/",msgSuccess:"Configuración actualizada exitosamente!!!",item:{id:null,nombre:"",valor:""}}},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(e){t.setItemValues(e),t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return this.apiUrlPartial+this.item.id}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId),this.resetFormValues()},showNotification:function(t,e){this.$notify({group:"noti",type:t,text:e})},setItemValues:function(t){this.item.id=t.id,this.item.nombre=t.nombre,this.item.valor=t.valor},resetFormValues:function(){this.item.nombre="",this.item.valor=""},handleOk:function(t){t.preventDefault(),this.onSubmit()},onSubmit:function(){var t=this;this.item.id&&this.$refs.form.validate().then((function(e){e&&t.$axios.put(t.apiUrl,t.item).then((function(e){t.showNotification("success",t.msgSuccess)})).finally((function(){t.refreshTable(),t.hideModal()}))}))}}},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:t.modalId,title:t.title},on:{ok:t.handleOk,hidden:t.hideModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.ok,r=e.cancel;return[n("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return r()}}},[t._v(" Cancelar")]),t._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"primary"},on:{click:function(t){return o()}}},[n("i",{staticClass:"fas fa-edit"}),t._v(" Actualizar\n      ")])]}}])},[n("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.handleSubmit;return[n("b-form",{on:{submit:function(e){return e.preventDefault(),o(t.onSubmit)},reset:t.hideModal}},[n("ValidationProvider",{attrs:{rules:"required",name:"Nombre"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,l=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Nombre:"}},[n("b-form-input",{attrs:{type:"text",state:!(!o||!r)||!l[0]&&null},model:{value:t.item.nombre,callback:function(e){t.$set(t.item,"nombre",e)},expression:"item.nombre"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(l[0]))])],1)]}}],null,!0)}),t._v(" "),n("ValidationProvider",{attrs:{rules:"required",name:"Valor"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,l=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Valor:"}},[n("b-form-input",{attrs:{type:"text",state:!(!o||!r)||!l[0]&&null},model:{value:t.item.valor,callback:function(e){t.$set(t.item,"valor",e)},expression:"item.valor"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(l[0]))])],1)]}}],null,!0)})],1)]}}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports},522:function(t,e,n){"use strict";n.r(e);n(15);var o={name:"ConfigDeleteModal",props:{title:{type:String,default:"Eliminar Configuración"}},data:function(){return{modalId:"modal-delete",openModalEvent:"open-delete-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/configuraciones/",msgSuccess:"Configuración eliminada exitosamente!!!",item:{id:null,text:""}}},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(e){t.setItemValues(e),t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return this.apiUrlPartial+this.item.id}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId),this.resetFormValues()},showNotification:function(t,e){this.$notify({group:"noti",type:t,text:e})},setItemValues:function(t){this.item.id=t.id,this.item.nombre=t.nombre},resetFormValues:function(){this.item.nombre=""},handleOk:function(t){t.preventDefault(),this.onSubmit()},onSubmit:function(){var t=this;this.item.id&&this.$axios.delete(this.apiUrl).then((function(e){t.showNotification("success",t.msgSuccess)})).finally((function(){t.refreshTable(),t.hideModal()}))}}},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:t.modalId,title:t.title},on:{ok:t.handleOk},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.ok,r=e.cancel;return[n("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return r()}}},[t._v(" Cancelar ")]),t._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"danger"},on:{click:function(t){return o()}}},[t._v(" Eliminar ")])]}}])},[n("p",[t._v("¿Está seguro que desea eliminar esta configuración?")]),t._v(" "),n("p",[n("b",[t._v(t._s(t.item.text))])])])],1)}),[],!1,null,null,null);e.default=component.exports},567:function(t,e,n){"use strict";n.r(e);n(1);var o={layout:"vertical",head:function(){return{title:"".concat(this.title," | CENEPRED")}},data:function(){return{title:"Configuraciones",items:[{text:"Admin"},{text:"Mantenimiento"},{text:"Configuraciones",active:!0}],isBusy:!1,tableData:this.getItems,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:"",filterOn:[],sortBy:"nombre",sortDesc:!1,fields:[{key:"nombre",label:"Nombre",sortable:!0},{key:"valor",label:"Valor",sortable:!0,class:"text-center"},{key:"opciones",sortable:!1,class:"bs-option-col",thClass:"bs-option-col-header"}]}},created:function(){var t=this;this.$nuxt.$on("refresh-table",(function(){t.refreshTable()}))},beforeDestroy:function(){this.$nuxt.$off("refresh-table")},methods:{requestDeleteItem:function(t){this.$nuxt.$emit("open-delete-modal",t)},requestEditItem:function(t){this.$nuxt.$emit("open-edit-modal",t)},requestAddItem:function(){this.$nuxt.$emit("open-add-modal")},refreshTable:function(){this.$refs.table.refresh()},getItems:function(t){var e=this,n=this.filtersTable(t);return this.$axios.get("/configuraciones"+n).then((function(t){var n=t.data.data;return e.currentPage=t.data.meta.current_page,e.totalRows=t.data.meta.total,e.isBusy=!1,n})).catch((function(t){return e.isBusy=!1,[]}))},filtersTable:function(t){var e=t.sortDesc?"DESC":"ASC",n="?page=".concat(t.currentPage);return n+="&per_page=".concat(t.perPage),n+="&nombre=".concat(t.filter),n+="&sortBy=".concat(t.sortBy),n+="&direction=".concat(e)}},middleware:"us-admin"},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("PageHeader",{attrs:{title:t.title,items:t.items}}),t._v(" "),n("ConfigAddModal"),t._v(" "),n("ConfigEditModal"),t._v(" "),n("ConfigDeleteModal"),t._v(" "),n("div",{staticClass:"row mx-4"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("h2",{staticClass:"card-title"},[t._v("Listado de configuraciones")]),t._v(" "),n("div",{directives:[{name:"permission",rawName:"v-permission",value:"CONFIGURACION_CREATE",expression:"'CONFIGURACION_CREATE'"}],staticClass:"card-options"},[n("b-button",{staticClass:"w-sm",attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.requestAddItem()}}},[n("i",{staticClass:"fa fa-fw fa-plus"}),t._v(" Agregar\n            ")])],1)]),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"row mt-4"},[n("div",{staticClass:"col-sm-12 col-md-6"},[n("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[n("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\n                  Mostrar \n                  "),n("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v("\n                   registros\n                ")],1)])]),t._v(" "),n("div",{staticClass:"col-sm-12 col-md-6"},[n("div",{staticClass:"dataTables_filter text-md-end",attrs:{id:"tickets-table_filter"}},[n("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\n                  Buscar: \n                  "),n("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)])])]),t._v(" "),n("div",{staticClass:"table-responsive mb-0"},[n("b-table",{ref:"table",attrs:{responsive:"sm",busy:t.isBusy,items:t.tableData,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn,striped:""},on:{"update:busy":function(e){t.isBusy=e},"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(opciones)",fn:function(data){return[n("ul",{staticClass:"list-inline mb-0"},[n("li",{directives:[{name:"permission",rawName:"v-permission",value:"CONFIGURACION_DESTROY",expression:"'CONFIGURACION_DESTROY'"}],staticClass:"list-inline-item"},[n("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-primary",attrs:{href:"javascript:void(0);",title:"Editar"},on:{click:function(e){return t.requestEditItem(data.item)}}},[n("i",{staticClass:"uil uil-pen font-size-18"})])]),t._v(" "),n("li",{directives:[{name:"permission",rawName:"v-permission",value:"CONFIGURACION_EDIT",expression:"'CONFIGURACION_EDIT'"}],staticClass:"list-inline-item"},[n("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-danger",attrs:{href:"javascript:void(0);",title:"Eliminar"},on:{click:function(e){return t.requestDeleteItem(data.item)}}},[n("i",{staticClass:"uil uil-trash-alt font-size-18"})])])])]}}])})],1),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[n("ul",{staticClass:"pagination pagination-rounded mb-0"},[n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PageHeader:n(476).default,ConfigAddModal:n(520).default,ConfigEditModal:n(521).default,ConfigDeleteModal:n(522).default})}}]);