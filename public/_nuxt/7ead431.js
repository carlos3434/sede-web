(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{590:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));o(15),o(11);var r=function(element,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"animate__";return new Promise((function(o,r){var l="".concat(t).concat(e),n=document.querySelector(element);n.classList.add("".concat(t,"animated"),l),n.addEventListener("animationend",(function(e){e.stopPropagation(),n.classList.remove("".concat(t,"animated"),l),o("Animation ended")}),{once:!0})}))}},724:function(e,t,o){"use strict";o.r(t);var r=o(25),l=(o(64),o(20),o(1),o(15),o(590),{layout:"auth",head:function(){return{title:"".concat(this.title," | CENEPRED")}},data:function(){return{title:"Registrar cuenta",item:{nombres:"",apellido_paterno:"",apellido_materno:"",telefono_fijo:"",celular:"",email:"",password:"",password_confirmation:"",sexo:"",pais_id:"",tipo_documento_id:"",numero_documento:"",distrito_id:"",roles:"",profesion:""},listGender:[],listCountries:[],listDocumentType:[],listDepartamento:[],listProvincia:[],listDistrito:[],listRoles:[],provinciasFiltrado:[],distritosFiltrado:[],genderSelected:null,countrySelected:{id:139,nombre:"Perú"},documentTypeSelected:null,departamentoSelected:null,provinciaSelected:null,distritoSelected:null,roleSelected:null,isProcessing:!1}},watch:{distritoSelected:function(e){this.item.distrito_id=e&&e.id?e.id:null},genderSelected:function(e){this.item.sexo=null===e?null:e.id},countrySelected:function(e){this.item.pais_id=e&&e.id?e.id:null},documentTypeSelected:function(e){this.item.tipo_documento_id=e&&e.id?e.id:null},roleSelected:function(e){this.item.roles=e&&e.id?e.name:null},"item.password":function(e,t){this.item.password_confirmation=e}},beforeDestroy:function(){this.$recaptcha.destroy()},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$recaptcha.init();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:e.loadSelectOptions(),e.item.pais_id=e.countrySelected?e.countrySelected.id:"";case 10:case"end":return t.stop()}}),t,null,[[0,5]])})))()},methods:{onChangeDepartamento:function(e){this.distritoSelected=null,this.provinciaSelected=null,this.distritosFiltrado=[],this.provinciasFiltrado=[],e&&(this.provinciasFiltrado=this.listProvincia.filter((function(i){return i.departamento_id==e.id})))},onChangeProvincia:function(e){e&&(this.distritoSelected=null,this.distritosFiltrado=this.listDistrito.filter((function(i){return i.provincia_id==e.id})))},onSubmit:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e,t.next=3,e.$recaptcha.execute("register");case 3:e.item.token=t.sent,e.$refs.form.validate().then((function(t){t&&(e.isProcessing=!0,e.item.profesion||delete e.item.profesion,e.$axios.post("/register",e.item).then((function(t){var o=t.data.success.token;e.$auth.setUserToken(o,!0).then((function(t){var o=t.data.success.roles,r=t.data.success.permissions;e.$gates.setRoles(o),e.$gates.setPermissions(r),e.$router.push("/admin")}))})).catch((function(e){e.response&&422==e.response.status&&o.$refs.form.setErrors(e.response.data.errors)})).finally((function(){e.isProcessing=!1})))}));case 5:case"end":return t.stop()}}),t)})))()},loadSelectOptions:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/listasParaRegistro").then((function(t){e.listCountries=t.data.paises||[],e.listDocumentType=t.data.tiposDocumentos||[],e.listDepartamento=t.data.departamentos||[],e.listProvincia=t.data.provincias||[],e.listDistrito=t.data.distritos||[],e.listRoles=t.data.roles||[],e.listGender=t.data.sexo||[]}));case 2:case"end":return t.stop()}}),t)})))()}},middleware:"anonymous"}),n=o(12),component=Object(n.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"account-pages my-5"},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-body"},[o("ValidationObserver",{ref:"form",on:{submit:function(e){e.preventDefault()}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit;return[o("b-form",{on:{submit:function(t){return t.preventDefault(),r(e.onSubmit)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12 mb-4"},[o("div",{staticClass:"text-center mt-2"},[o("h5",{staticClass:"text-primary"},[e._v("Registro")])])]),e._v(" "),o("div",{staticClass:"col-md-6 col-sm-12"},[o("ValidationProvider",{attrs:{vid:"nombres",rules:"required|alpha_num_spaces",name:"Nombres"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Nombres:"}},[o("b-form-input",{attrs:{type:"text",state:!l[0]&&(!!r||null)},model:{value:e.item.nombres,callback:function(t){e.$set(e.item,"nombres",t)},expression:"item.nombres"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(l[0]))])],1)]}}],null,!0)}),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6 col-sm-12"},[o("ValidationProvider",{attrs:{vid:"apellido_paterno",rules:"required|alpha_num_spaces",name:"Apellido Paterno"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Apellido Paterno:"}},[o("b-form-input",{attrs:{type:"text",state:!l[0]&&(!!r||null)},model:{value:e.item.apellido_paterno,callback:function(t){e.$set(e.item,"apellido_paterno",t)},expression:"item.apellido_paterno"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(l[0]))])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-md-6 col-sm-12"},[o("ValidationProvider",{attrs:{vid:"apellido_materno",rules:"required|alpha_num_spaces",name:"Apellido Materno"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Apellido Materno:"}},[o("b-form-input",{attrs:{type:"text",state:!l[0]&&(!!r||null)},model:{value:e.item.apellido_materno,callback:function(t){e.$set(e.item,"apellido_materno",t)},expression:"item.apellido_materno"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(l[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6"},[o("ValidationProvider",{attrs:{vid:"telefono_fijo",rules:"required|alpha_num_spaces",name:"Teléfono"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Teléfono fijo:"}},[o("b-form-input",{attrs:{type:"number",state:!l[0]&&(!!r||null)},model:{value:e.item.telefono_fijo,callback:function(t){e.$set(e.item,"telefono_fijo",t)},expression:"item.telefono_fijo"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(l[0]))])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-md-6"},[o("ValidationProvider",{attrs:{vid:"celular",rules:"required|alpha_num_spaces",name:"Celular"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Celular:"}},[o("b-form-input",{attrs:{type:"number",state:!l[0]&&(!!r||null)},model:{value:e.item.celular,callback:function(t){e.$set(e.item,"celular",t)},expression:"item.celular"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(l[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("ValidationProvider",{attrs:{vid:"email",rules:"required|email",name:"Correo electrónico"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Correo electrónico:"}},[o("b-form-input",{attrs:{type:"text",state:!l[0]&&(!!r||null)},model:{value:e.item.email,callback:function(t){e.$set(e.item,"email",t)},expression:"item.email"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(l[0]))])],1)]}}],null,!0)}),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{vid:"password",rules:"required|min:8",name:"Contraseña"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Contraseña:"}},[o("b-form-input",{attrs:{type:"password",placeholder:"••••••",autocomplete:"new-password",state:!l[0]&&(!!r||null)},model:{value:e.item.password,callback:function(t){e.$set(e.item,"password",t)},expression:"item.password"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(l[0]))])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{vid:"sexo",rules:"required",name:"Género"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Género:"}},[o("multiselect-c",{class:l[0]?"is-invalid":r?"is-valid":"",attrs:{options:e.listGender,label:"nombre","track-by":"id",placeholder:"Elija un género"},model:{value:e.genderSelected,callback:function(t){e.genderSelected=t},expression:"genderSelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:l.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n                              "+e._s(l[0])+"\n                            ")])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("ValidationProvider",{attrs:{vid:"roles",rules:"required",name:"Rol"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Rol:"}},[o("multiselect-c",{class:l[0]?"is-invalid":r?"is-valid":"",attrs:{options:e.listRoles,label:"nombre","track-by":"id",placeholder:"Elija un rol"},model:{value:e.roleSelected,callback:function(t){e.roleSelected=t},expression:"roleSelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:l.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n                              "+e._s(l[0])+"\n                            ")])],1)]}}],null,!0)})],1)])],1),e._v(" "),o("div",{staticClass:"col-md-6 col-sm-12"},[o("ValidationProvider",{attrs:{vid:"pais_id",rules:"required",name:"Nacionalidad"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.validated,l=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Nacionalidad:"}},[o("multiselect-c",{class:r&&l?"is-valid":n[0]?"is-invalid":"",attrs:{options:e.listCountries,label:"nombre","track-by":"id",placeholder:"Elija un nacionalidad"},model:{value:e.countrySelected,callback:function(t){e.countrySelected=t},expression:"countrySelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:n.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n                          "+e._s(n[0])+"\n                        ")])],1)]}}],null,!0)}),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-lg-6 col-md-12 col-sm-12"},[o("ValidationProvider",{attrs:{vid:"tipo_documento_id",rules:"required",name:"Tipo de Documento"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Tipo de Documento:"}},[o("multiselect-c",{class:l[0]?"is-invalid":r?"is-valid":"",attrs:{options:e.listDocumentType,label:"nombre","track-by":"id",placeholder:"Elija un tipo de documento"},model:{value:e.documentTypeSelected,callback:function(t){e.documentTypeSelected=t},expression:"documentTypeSelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:l.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n                              "+e._s(l[0])+"\n                            ")])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-lg-6 col-md-12 col-sm-12"},[o("ValidationProvider",{attrs:{vid:"numero_documento",rules:"required|min:6",name:"Documento"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Número de Documento:"}},[o("b-form-input",{attrs:{type:"number",state:!l[0]&&(!!r||null)},model:{value:e.item.numero_documento,callback:function(t){e.$set(e.item,"numero_documento",t)},expression:"item.numero_documento"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(l[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-lg-6 col-md-12 col-sm-12"},[o("ValidationProvider",{attrs:{rules:"required",name:"Departamento"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Departamento:"}},[o("multiselect-c",{class:l[0]?"is-invalid":r?"is-valid":"",attrs:{options:e.listDepartamento,label:"nombre","track-by":"id",placeholder:"Elija un departamento"},on:{input:e.onChangeDepartamento},model:{value:e.departamentoSelected,callback:function(t){e.departamentoSelected=t},expression:"departamentoSelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")]),e._v(" "),o("span",{attrs:{slot:"noOptions"},slot:"noOptions"},[e._v("Lista vacia.")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:l.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n                              "+e._s(l[0])+"\n                            ")])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-lg-6 col-md-12 col-sm-12"},[o("ValidationProvider",{attrs:{rules:"required",name:"Provincia"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Provincia:"}},[o("multiselect-c",{class:l[0]?"is-invalid":r?"is-valid":"",attrs:{options:e.provinciasFiltrado,label:"nombre","track-by":"id",placeholder:"Elija un provincia"},on:{input:e.onChangeProvincia},model:{value:e.provinciaSelected,callback:function(t){e.provinciaSelected=t},expression:"provinciaSelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")]),e._v(" "),o("span",{attrs:{slot:"noOptions"},slot:"noOptions"},[e._v("Lista vacia.")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:l.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n                              "+e._s(l[0])+"\n                            ")])],1)]}}],null,!0)})],1)]),e._v(" "),o("ValidationProvider",{attrs:{vid:"distrito_id",rules:"required",name:"Distrito"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid,l=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Distrito:"}},[o("multiselect-c",{class:l[0]?"is-invalid":r?"is-valid":"",attrs:{options:e.distritosFiltrado,label:"nombre","track-by":"id",placeholder:"Elija un distrito"},model:{value:e.distritoSelected,callback:function(t){e.distritoSelected=t},expression:"distritoSelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")]),e._v(" "),o("span",{attrs:{slot:"noOptions"},slot:"noOptions"},[e._v("Lista vacia.")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:l.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n                          "+e._s(l[0])+"\n                        ")])],1)]}}],null,!0)}),e._v(" "),o("b-form-group",{staticClass:"mb-3",attrs:{label:"Profesión:"}},[o("b-form-input",{attrs:{type:"text"},model:{value:e.item.profesion,callback:function(t){e.$set(e.item,"profesion",t)},expression:"item.profesion"}})],1)],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 text-end"},[o("b-button",{attrs:{type:"submit",size:"md",variant:"primary",disabled:e.isProcessing}},[o("span",{directives:[{name:"show",rawName:"v-show",value:e.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),e._v(" Registrarse\n                    ")])],1)])]),e._v(" "),o("div",{staticClass:"mt-4 text-center"},[o("p",{staticClass:"mb-0"},[e._v("\n                  Ir a\n                  "),o("nuxt-link",{staticClass:"fw-medium text-primary",attrs:{to:"/usuario/login"}},[e._v("Iniciar sesión")])],1)])]}}])})],1)])])])])])}),[],!1,null,null,null);t.default=component.exports}}]);