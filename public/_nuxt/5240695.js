(window.webpackJsonp=window.webpackJsonp||[]).push([[109,62,63,64,68],{585:function(e,t,o){"use strict";o.r(t);var l={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},r=o(12),component=Object(r.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row mx-lg-4"},[o("div",{staticClass:"col-12"},[o("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[o("h4",{staticClass:"mb-0"},[e._v(e._s(e.title))]),e._v(" "),o("div",{staticClass:"page-title-right"},[o("b-breadcrumb",{staticClass:"m-0",attrs:{items:e.items}})],1)])])])}),[],!1,null,null,null);t.default=component.exports},662:function(e,t,o){"use strict";o.r(t);o(15);var l={props:{title:{type:String,default:"Agregar Usuario"}},data:function(){return{modalId:"modal-add",openModalEvent:"open-add-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/users",msgSuccess:"Usuario creado exitosamente!!!",isProcessing:!1,listaTipoDocumento:[],listaSexo:[],item:{id:null,nombres:"",tipo_documento_id:"",numero_documento:"",apellido_paterno:"",apellido_materno:"",sexo:"",telefono_fijo:"",celular:"",password:"",email:""},tipoDocumentoSelected:null,sexoSelected:null}},watch:{tipoDocumentoSelected:function(e){this.item.tipo_documento_id=e&&e.id?e.id:null},sexoSelected:function(e){this.item.sexo=e&&e.id?1:0}},created:function(){var e=this;this.$nuxt.$on(this.openModalEvent,(function(t,o){e.listaTipoDocumento=t,e.listaSexo=o,e.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return this.apiUrlPartial}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId)},resetModal:function(){this.resetFormValues()},resetFormValues:function(){this.item.id="",this.item.nombres="",this.item.tipo_documento_id="",this.item.numero_documento="",this.item.apellido_paterno="",this.item.apellido_materno="",this.item.sexo="",this.item.telefono_fijo="",this.item.celular="",this.item.email="",this.item.password="",this.tipoDocumentoSelected=null,this.sexoSelected=null,this.isProcessing=!1},handleOk:function(e){e.preventDefault(),this.onSubmit()},onSubmit:function(){var e=this;this.$refs.form.validate().then((function(t){t&&(e.isProcessing=!0,e.$axios.post(e.apiUrl,e.item).then((function(t){e.$notify({type:"success",text:e.msgSuccess})})).finally((function(){e.refreshTable(),e.hideModal()})))}))}}},r=o(12),component=Object(r.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{attrs:{id:e.modalId,title:e.title},on:{ok:e.handleOk,hidden:e.resetModal},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var l=t.ok,r=t.cancel;return[o("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(e){return r()}}},[e._v(" Cancelar")]),e._v(" "),o("b-button",{attrs:{type:"submit",size:"md",variant:"primary",disabled:e.isProcessing},on:{click:function(e){return l()}}},[o("span",{directives:[{name:"show",rawName:"v-show",value:e.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),e._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:!e.isProcessing,expression:"!isProcessing"}],staticClass:"fas fa-paper-plane"}),e._v(" Agregar\n      ")])]}}])},[o("ValidationObserver",{ref:"form",on:{submit:function(e){e.preventDefault()}},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.handleSubmit;return[o("b-form",{on:{submit:function(t){return t.preventDefault(),l(e.onSubmit)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Nombre"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Nombres:"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.nombres,callback:function(t){e.$set(e.item,"nombres",t)},expression:"item.nombres"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Apellido Paterno"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Apellido Paterno:"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.apellido_paterno,callback:function(t){e.$set(e.item,"apellido_paterno",t)},expression:"item.apellido_paterno"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Apellido Materno"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Apellido Materno:"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.apellido_materno,callback:function(t){e.$set(e.item,"apellido_materno",t)},expression:"item.apellido_materno"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{rules:"required",name:"Tipo de Documento"},scopedSlots:e._u([{key:"default",fn:function(t){t.validated;var l=t.valid,r=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Tipo de Documento:"}},[o("multiselect-c",{class:r[0]?"is-invalid":l?"is-valid":"",attrs:{vid:"tipo_documento_id",options:e.listaTipoDocumento,label:"nombre","track-by":"id",placeholder:"Elija un tipo de documento"},model:{value:e.tipoDocumentoSelected,callback:function(t){e.tipoDocumentoSelected=t},expression:"tipoDocumentoSelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n                  "+e._s(r[0])+"\n                ")])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|min:6",name:"Documento"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Documento:"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.numero_documento,callback:function(t){e.$set(e.item,"numero_documento",t)},expression:"item.numero_documento"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"passive",rules:"required",name:"Género"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Género:"}},[o("multiselect-c",{class:l&&r?"is-valid":n[0]?"is-invalid":"",attrs:{vid:"sexo",options:e.listaSexo,label:"nombre","track-by":"id",placeholder:"Elija un género"},model:{value:e.sexoSelected,callback:function(t){e.sexoSelected=t},expression:"sexoSelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:n.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n                  "+e._s(n[0])+"\n                ")])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Telefono"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Telefono:"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.telefono_fijo,callback:function(t){e.$set(e.item,"telefono_fijo",t)},expression:"item.telefono_fijo"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Celular"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Celular:"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.celular,callback:function(t){e.$set(e.item,"celular",t)},expression:"item.celular"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|email",name:"Correo electrónico:"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Correo electrónico::"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.email,callback:function(t){e.$set(e.item,"email",t)},expression:"item.email"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|min:8",name:"Password"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Password:"}},[o("b-form-input",{attrs:{type:"password",autocomplete:"new-password",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.password,callback:function(t){e.$set(e.item,"password",t)},expression:"item.password"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1)])])]}}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports},663:function(e,t,o){"use strict";o.r(t);o(99),o(15);var l={props:{title:{type:String,default:"Editar Usuario"}},data:function(){return{modalId:"modal-edit",openModalEvent:"open-edit-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/users/",msgSuccess:"Usuario actualizado exitosamente!!!",isProcessing:!1,listaTipoDocumento:[],listaSexo:[],item:{id:null,nombres:"",tipo_documento_id:"",numero_documento:"",apellido_paterno:"",apellido_materno:"",sexo:"",telefono_fijo:"",celular:"",password:"",email:""},tipoDocumentoSelected:null,sexoSelected:null}},watch:{tipoDocumentoSelected:function(e){this.item.tipo_documento_id=e&&e.id?e.id:null},sexoSelected:function(e){this.item.sexo=e&&e.id?1:0}},created:function(){var e=this;this.$nuxt.$on(this.openModalEvent,(function(t,o,l){e.listaTipoDocumento=o,e.listaSexo=l,e.setItemValues(t),e.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return this.apiUrlPartial+this.item.id}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId)},resetModal:function(){this.resetFormValues()},setItemValues:function(e){this.item.id=e.id,this.item.nombres=e.nombres,this.item.tipo_documento_id=e.tipo_documento_id,this.item.numero_documento=e.numero_documento,this.item.apellido_paterno=e.apellido_paterno,this.item.apellido_materno=e.apellido_materno,this.item.sexo=e.sexo,this.item.telefono_fijo=e.telefono_fijo,this.item.celular=e.celular,this.item.email=e.email,this.setSelectedOptions()},setSelectedOptions:function(){var e=this;this.tipoDocumentoSelected=this.listaTipoDocumento.find((function(i){return i.id==e.item.tipo_documento_id})),this.sexoSelected=this.listaSexo.find((function(i){return i.id==e.item.sexo}))},resetFormValues:function(){this.item.id="",this.item.nombres="",this.item.tipo_documento_id="",this.item.numero_documento="",this.item.apellido_paterno="",this.item.apellido_materno="",this.item.sexo="",this.item.telefono_fijo="",this.item.celular="",this.item.email="",this.tipoDocumentoSelected=null,this.sexoSelected=null,this.isProcessing=!1},handleOk:function(e){e.preventDefault(),this.onSubmit()},onSubmit:function(){var e=this;this.item.id&&this.$refs.form.validate().then((function(t){t&&(e.isProcessing=!0,e.$axios.put(e.apiUrl,e.item).then((function(t){e.$notify({type:"success",text:e.msgSuccess})})).finally((function(){e.refreshTable(),e.hideModal()})))}))}}},r=o(12),component=Object(r.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{attrs:{id:e.modalId,title:e.title},on:{ok:e.handleOk,hidden:e.resetModal},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var l=t.ok,r=t.cancel;return[o("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(e){return r()}}},[e._v(" Cancelar")]),e._v(" "),o("b-button",{attrs:{type:"submit",size:"md",variant:"primary",disabled:e.isProcessing},on:{click:function(e){return l()}}},[o("span",{directives:[{name:"show",rawName:"v-show",value:e.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),e._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:!e.isProcessing,expression:"!isProcessing"}],staticClass:"fas fa-edit"}),e._v(" Actualizar\n      ")])]}}])},[o("ValidationObserver",{ref:"form",on:{submit:function(e){e.preventDefault()}},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.handleSubmit;return[o("b-form",{on:{submit:function(t){return t.preventDefault(),l(e.onSubmit)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Nombre"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Nombres:"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.nombres,callback:function(t){e.$set(e.item,"nombres",t)},expression:"item.nombres"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Apellido Paterno"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Apellido Paterno:"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.apellido_paterno,callback:function(t){e.$set(e.item,"apellido_paterno",t)},expression:"item.apellido_paterno"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Apellido Materno"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Apellido Materno:"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.apellido_materno,callback:function(t){e.$set(e.item,"apellido_materno",t)},expression:"item.apellido_materno"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{rules:"required",name:"Tipo de Documento"},scopedSlots:e._u([{key:"default",fn:function(t){t.validated;var l=t.valid,r=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Tipo de Documento:"}},[o("multiselect-c",{class:r[0]?"is-invalid":l?"is-valid":"",attrs:{vid:"tipo_documento_id",options:e.listaTipoDocumento,label:"nombre","track-by":"id",placeholder:"Elija un tipo de documento"},model:{value:e.tipoDocumentoSelected,callback:function(t){e.tipoDocumentoSelected=t},expression:"tipoDocumentoSelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n                  "+e._s(r[0])+"\n                ")])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|min:6",name:"Documento"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Documento:"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.numero_documento,callback:function(t){e.$set(e.item,"numero_documento",t)},expression:"item.numero_documento"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"passive",rules:"required",name:"Género"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Género:"}},[o("multiselect-c",{class:l&&r?"is-valid":n[0]?"is-invalid":"",attrs:{vid:"sexo",options:e.listaSexo,label:"nombre","track-by":"id",placeholder:"Elija un género"},model:{value:e.sexoSelected,callback:function(t){e.sexoSelected=t},expression:"sexoSelected"}},[o("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("Oops! No se encontraron elementos.")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:n.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[e._v("\n                  "+e._s(n[0])+"\n                ")])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Telefono"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Telefono:"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.telefono_fijo,callback:function(t){e.$set(e.item,"telefono_fijo",t)},expression:"item.telefono_fijo"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Celular"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Celular:"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.celular,callback:function(t){e.$set(e.item,"celular",t)},expression:"item.celular"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1),e._v(" "),o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"required|email",name:"Correo electrónico:"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Correo electrónico::"}},[o("b-form-input",{attrs:{type:"text",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.email,callback:function(t){e.$set(e.item,"email",t)},expression:"item.email"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1)]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("ValidationProvider",{attrs:{mode:"eager",rules:"min:8",name:"Password"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validated,r=t.valid,n=t.errors;return[o("b-form-group",{staticClass:"mb-3",attrs:{label:"Password:"}},[o("b-form-input",{attrs:{type:"password",placeholder:"•••••••",state:!(!l||!r)||!n[0]&&null},model:{value:e.item.password,callback:function(t){e.$set(e.item,"password",t)},expression:"item.password"}}),e._v(" "),o("b-form-invalid-feedback",[e._v(e._s(n[0]))])],1)]}}],null,!0)})],1)])])]}}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports},664:function(e,t,o){"use strict";o.r(t);o(15);var l={props:{title:{type:String,default:"Eliminar Usuario"}},data:function(){return{modalId:"modal-delete",openModalEvent:"open-delete-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/users/",msgSuccess:"Usuario eliminado exitosamente!!!",isProcessing:!1,item:{id:null,text:""}}},created:function(){var e=this;this.$nuxt.$on(this.openModalEvent,(function(t){e.setItemValues(t),e.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return this.apiUrlPartial+this.item.id}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId),this.resetFormValues()},setItemValues:function(e){this.item.id=e.id,this.item.text=e.nombre},resetFormValues:function(){this.item.id=null,this.item.text="",this.isProcessing=!1},handleOk:function(e){e.preventDefault(),this.onSubmit()},onSubmit:function(){var e=this;this.item.id&&(this.isProcessing=!0,this.$axios.delete(this.apiUrl).then((function(t){e.$notify({type:"success",text:e.msgSuccess})})).finally((function(){e.refreshTable(),e.hideModal()})))}}},r=o(12),component=Object(r.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{attrs:{id:e.modalId,title:e.title},on:{ok:e.handleOk,hidden:e.hideModal},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var l=t.ok,r=t.cancel;return[o("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(e){return r()}}},[e._v(" Cancelar ")]),e._v(" "),o("b-button",{attrs:{type:"submit",size:"md",variant:"danger",disabled:e.isProcessing},on:{click:function(e){return l()}}},[o("span",{directives:[{name:"show",rawName:"v-show",value:e.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),e._v("\n        Eliminar\n      ")])]}}])},[o("p",[e._v("¿Está seguro que desea eliminar este registro?")]),e._v(" "),o("p",[o("b",[e._v(e._s(e.item.text))])])])],1)}),[],!1,null,null,null);t.default=component.exports},738:function(e,t,o){"use strict";o.r(t);var l=o(25),r=(o(1),o(64),{layout:"vertical",head:function(){return{title:"".concat(this.title," | CENEPRED")}},data:function(){var e="Usuarios";return{title:e,items:[{text:"Admin"},{text:"Mantenimiento"},{text:e,active:!0}],urlTableData:"/users",tableData:this.getItems,isBusy:!1,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:"",sortDesc:!1,sortBy:"nombres",listDocumentType:[],listGender:[],fields:[{key:"nombres",label:"Nombres",sortable:!0},{key:"apellido_paterno",label:"Apellido Paterno",sortable:!0},{key:"apellido_materno",label:"Apellido Materno",sortable:!0},{key:"numero_documento",label:"# Documento",sortable:!0},{key:"email",label:"email",sortable:!0},{key:"opciones",sortable:!1,class:"bs-option-col",thClass:"bs-option-col-header"}]}},mounted:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loadSelectOptions();case 1:case"end":return t.stop()}}),t)})))()},created:function(){var e=this;this.$nuxt.$on("refresh-table",(function(){e.refreshTable()}))},beforeDestroy:function(){this.$nuxt.$off("refresh-table")},methods:{requestDeleteItem:function(e){this.$nuxt.$emit("open-delete-modal",e)},requestEditItem:function(e){this.$nuxt.$emit("open-edit-modal",e,this.listDocumentType,this.listGender)},requestAddItem:function(){this.$nuxt.$emit("open-add-modal",this.listDocumentType,this.listGender)},refreshTable:function(){this.$refs.table.refresh()},getItems:function(e){var t=this,o=this.filtersTable(e);return this.$axios.get(this.urlTableData+o).then((function(e){var o=e.data.data;return t.currentPage=e.data.meta.current_page,t.totalRows=e.data.meta.total,t.isBusy=!1,o})).catch((function(e){return t.isBusy=!1,[]}))},filtersTable:function(e){var t=e.sortDesc?"DESC":"ASC",o="?page=".concat(e.currentPage);return o+="&per_page=".concat(e.perPage),o+="&nombre=".concat(e.filter),o+="&sortBy=".concat(e.sortBy),o+="&direction=".concat(t)},loadSelectOptions:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/listasParaUsuario").then((function(t){e.listDocumentType=t.data.tiposDocumentos||[],e.listGender=t.data.sexo||[]}));case 2:case"end":return t.stop()}}),t)})))()}},middleware:"us-admin"}),n=o(12),component=Object(n.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("PageHeader",{attrs:{title:e.title,items:e.items}}),e._v(" "),o("GeneralUsuarioAddModal"),e._v(" "),o("GeneralUsuarioEditModal"),e._v(" "),o("GeneralUsuarioDeleteModal"),e._v(" "),o("div",{staticClass:"row mx-4"},[o("div",{staticClass:"col-12"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[o("h2",{staticClass:"card-title"},[e._v("Listado de Usuarios")]),e._v(" "),o("div",{directives:[{name:"permission",rawName:"v-permission",value:"USER_CREATE",expression:"'USER_CREATE'"}],staticClass:"card-options"},[o("b-button",{staticClass:"w-sm",attrs:{size:"sm",variant:"success"},on:{click:function(t){return e.requestAddItem()}}},[o("i",{staticClass:"fa fa-fw fa-plus"}),e._v(" Agregar\n            ")])],1)]),e._v(" "),o("div",{staticClass:"card-body"},[o("div",{staticClass:"row mt-4"},[o("div",{staticClass:"col-sm-12 col-md-6"},[o("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[o("label",{staticClass:"d-inline-flex align-items-center"},[e._v("\n                  Mostrar \n                  "),o("b-form-select",{attrs:{size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}}),e._v("\n                   registros\n                ")],1)])]),e._v(" "),o("div",{staticClass:"col-sm-12 col-md-6"},[o("div",{staticClass:"dataTables_filter text-md-end",attrs:{id:"tickets-table_filter"}},[o("label",{staticClass:"d-inline-flex align-items-center"},[e._v("\n                  Buscar: \n                  "),o("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1)])])]),e._v(" "),o("div",{staticClass:"table-responsive mb-0"},[o("b-table",{ref:"table",class:"table-nowrap",attrs:{responsive:"sm",busy:e.isBusy,items:e.tableData,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage,"sort-by":e.sortBy,"sort-desc":e.sortDesc,filter:e.filter,striped:"","show-empty":""},on:{"update:busy":function(t){e.isBusy=t},"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"empty",fn:function(){return[o("p",{staticClass:"text-center"},[e._v("No hay registros para mostrar")])]},proxy:!0},{key:"cell(opciones)",fn:function(data){return[o("ul",{staticClass:"list-inline two-options mb-0"},[o("li",{directives:[{name:"permission",rawName:"v-permission",value:"USER_DESTROY",expression:"'USER_DESTROY'"}],staticClass:"list-inline-item"},[o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-primary",attrs:{href:"javascript:void(0);",title:"Editar"},on:{click:function(t){return e.requestEditItem(data.item)}}},[o("i",{staticClass:"uil uil-pen font-size-18"})])]),e._v(" "),o("li",{directives:[{name:"permission",rawName:"v-permission",value:"USER_EDIT",expression:"'USER_EDIT'"}],staticClass:"list-inline-item"},[o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-danger",attrs:{href:"javascript:void(0);",title:"Eliminar"},on:{click:function(t){return e.requestDeleteItem(data.item)}}},[o("i",{staticClass:"uil uil-trash-alt font-size-18"})])])])]}}])})],1),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[o("ul",{staticClass:"pagination pagination-rounded mb-0"},[o("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])])])])])])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PageHeader:o(585).default,GeneralUsuarioAddModal:o(662).default,GeneralUsuarioEditModal:o(663).default,GeneralUsuarioDeleteModal:o(664).default})}}]);