(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{687:function(e,t,n){"use strict";n.r(t);n(15);var o={props:{title:{type:String,default:"Eliminar Documento"}},data:function(){return{modalId:"modal-delete",openModalEvent:"open-delete-modal",refreshTableEvent:"refresh-table",msgSuccess:"Documento eliminado exitosamente!!!",isProcessing:!1,item:{id:null,text:""}}},created:function(){var e=this;this.$nuxt.$on(this.openModalEvent,(function(t){e.setItemValues(t),e.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return"/expedienteadhoc/"+this.item.id_expediente+"/archivo/"+this.item.id}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId),this.resetFormValues()},setItemValues:function(e){this.item.id=e.id_archivo,this.item.id_expediente=e.id_expediente,this.item.text=e.nombre_archivo},resetFormValues:function(){this.item.id=null,this.item.text="",this.isProcessing=!1},handleOk:function(e){e.preventDefault(),this.onSubmit()},onSubmit:function(){var e=this;this.item.id&&(this.isProcessing=!0,this.$axios.delete(this.apiUrl).then((function(t){e.$notify({type:"success",text:e.msgSuccess})})).finally((function(){e.refreshTable(),e.hideModal()})))}}},r=n(12),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-modal",{attrs:{id:e.modalId,title:e.title},on:{ok:e.handleOk,hidden:e.hideModal},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var o=t.ok,r=t.cancel;return[n("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(e){return r()}}},[e._v(" Cancelar ")]),e._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"danger",disabled:e.isProcessing},on:{click:function(e){return o()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),e._v("\n        Eliminar\n      ")])]}}])},[n("p",[e._v("¿Está seguro que desea eliminar este documento?")]),e._v(" "),n("p",[n("b",[e._v(e._s(e.item.text))])])])],1)}),[],!1,null,null,null);t.default=component.exports}}]);