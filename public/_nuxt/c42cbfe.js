(window.webpackJsonp=window.webpackJsonp||[]).push([[78,3,4,5,6,68],{585:function(t,e,n){"use strict";n.r(e);var o={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row mx-lg-4"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[n("h4",{staticClass:"mb-0"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"page-title-right"},[n("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])}),[],!1,null,null,null);e.default=component.exports},589:function(t,e,n){"use strict";n.r(e);var o={props:{seccion:{type:String,default:""}}},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[t.$auth.user.esta_postulando&&!t.$auth.user.esta_acreditado?n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("b-alert",{staticClass:"m-0",attrs:{variant:"warning",show:""}},[n("p",{staticClass:"m-0"},[n("b",[t._v(" Ud. se encuentra postulando a una convocatoria. ")]),t._v("\n              No puede modificar su información en este momento.\n            ")])])],1)]):t.$auth.user.esta_postulando&&t.$auth.user.esta_acreditado?n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("b-alert",{staticClass:"m-0",attrs:{variant:"success",show:""}},[n("p",{staticClass:"m-0"},[n("b",[t._v(" Ud. esta acreditado. ")]),t._v("\n              No puede modificar su información en este momento.\n            ")])])],1)]):n("div",{staticClass:"row"},[t.seccion?n("div",{staticClass:"col-md-12"},[n("b-alert",{staticClass:"m-0",attrs:{variant:"warning",show:""}},[n("p",{staticClass:"m-0"},[t._v("\n              En esta sección Ud. puede "),n("b",[t._v("Agregar")]),t._v(", "),n("b",[t._v("Editar")]),t._v(" o "),n("b",[t._v("Eliminar")]),t._v(" la información relacionada a\n              "+t._s(t.seccion)+".\n            ")])])],1):t._e()])])])])}),[],!1,null,null,null);e.default=component.exports},665:function(t,e,n){"use strict";n.r(e);var o=n(25),r=(n(64),n(15),n(586)),l=(n(587),n(588),{components:{DatePicker:r.default},props:{title:{type:String,default:"Agregar Capacitación"}},data:function(){return{modalId:"modal-add",openModalEvent:"open-add-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/capacitaciones",msgSuccess:"Capacitación creada exitosamente!!!",isProcessing:!1,item:{id:null,nombre:"",fecha_inicio:"",fecha_termino:"",horas_lectivas:"",ciudad:"",tipo_capacitacion_id:"",institucion_id:"",certificado:null},institucionSelected:null,tipoCapacitacionSelected:null,listInstituciones:[],listTipoCapacitacion:[]}},watch:{institucionSelected:function(t){this.item.institucion_id=t&&t.id?t.id:null},tipoCapacitacionSelected:function(t){this.item.tipo_capacitacion_id=t&&t.id?t.id:null}},mounted:function(){this.loadSelectOptions()},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(){t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId)},resetModal:function(){this.resetFormValues()},resetFormValues:function(){this.item.nombre="",this.item.fecha_inicio="",this.item.fecha_termino="",this.item.horas_lectivas="",this.item.ciudad="",this.item.tipo_capacitacion_id="",this.item.institucion_id="",this.item.certificado=null,this.institucionSelected=null,this.tipoCapacitacionSelected=null,this.isProcessing=!1},handleOk:function(t){t.preventDefault(),this.onSubmit()},onSubmit:function(){var t=this;this.$refs.form.validate().then((function(e){if(e){t.isProcessing=!0;var data=new FormData;for(var n in t.item)data.append(n,t.item[n]);t.$axios.post(t.apiUrlPartial,data).then((function(e){t.$notify({type:"success",text:t.msgSuccess})})).finally((function(){t.refreshTable(),t.hideModal()}))}}))},loadSelectOptions:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/listasParaCapacitacion").then((function(e){t.listInstituciones=e.data.institutiones||[],t.listTipoCapacitacion=e.data.tipo_capacitacion||[]}));case 2:case"end":return e.stop()}}),e)})))()},handleFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.item.certificado=e[0])}}}),c=n(12),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:t.modalId,title:t.title,size:"lg"},on:{ok:t.handleOk,hidden:t.resetModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.ok,r=e.cancel;return[n("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return r()}}},[t._v(" Cancelar")]),t._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"primary",disabled:t.isProcessing},on:{click:function(t){return o()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:!t.isProcessing,expression:"!isProcessing"}],staticClass:"fas fa-paper-plane"}),t._v(" Agregar\n      ")])]}}])},[n("ValidationObserver",{ref:"form",on:{submit:function(t){t.preventDefault()}},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.handleSubmit;return[n("b-form",{on:{submit:function(e){return e.preventDefault(),o(t.onSubmit)}}},[n("ValidationProvider",{attrs:{rules:"required|alpha_num_spaces",name:"Nombre"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Nombre de la capacitación:"}},[n("b-form-input",{attrs:{type:"text",state:!r[0]&&(!!o||null)},model:{value:t.item.nombre,callback:function(e){t.$set(t.item,"nombre",e)},expression:"item.nombre"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(r[0]))])],1)]}}],null,!0)}),t._v(" "),n("ValidationProvider",{attrs:{rules:"required",name:"Institución"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Institución académica:"}},[n("multiselect-c",{class:r[0]?"is-invalid":o?"is-valid":"",attrs:{options:t.listInstituciones,label:"nombre","track-by":"id",placeholder:"Elija un institución académica"},model:{value:t.institucionSelected,callback:function(e){t.institucionSelected=e},expression:"institucionSelected"}},[n("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Oops! No se encontraron elementos.")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n              "+t._s(r[0])+"\n            ")])],1)]}}],null,!0)}),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{rules:"required",name:"Tipo"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Tipo de capacitación:"}},[n("multiselect-c",{class:r[0]?"is-invalid":o?"is-valid":"",attrs:{options:t.listTipoCapacitacion,label:"nombre","track-by":"id",placeholder:"Elija tipo de capacitación"},model:{value:t.tipoCapacitacionSelected,callback:function(e){t.tipoCapacitacionSelected=e},expression:"tipoCapacitacionSelected"}},[n("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Oops! No se encontraron elementos.")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(r[0])+"\n                ")])],1)]}}],null,!0)})],1),t._v(" "),n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{rules:"required|alpha_num_spaces",name:"Ciudad"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Ciudad de la capacitación:"}},[n("b-form-input",{attrs:{type:"text",state:!r[0]&&(!!o||null)},model:{value:t.item.ciudad,callback:function(e){t.$set(t.item,"ciudad",e)},expression:"item.ciudad"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(r[0]))])],1)]}}],null,!0)})],1)]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{rules:"required|before_or_equal:@target_fecha_final",name:"Fecha Inicio"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Fecha Inicio:"}},[n("date-picker",{class:r[0]?"is-invalid":o?"is-valid":"",attrs:{"first-day-of-week":1,lang:"es",format:"YYYY-MM-DD",valueType:"format","disabled-date":function(e){return e>=t.$moment().subtract(1,"days")}},model:{value:t.item.fecha_inicio,callback:function(e){t.$set(t.item,"fecha_inicio",e)},expression:"item.fecha_inicio"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(r[0])+"\n                ")])],1)]}}],null,!0)})],1),t._v(" "),n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{vid:"target_fecha_final",rules:"required",name:"Fecha Fin"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Fecha Final:"}},[n("date-picker",{class:r[0]?"is-invalid":o?"is-valid":"",attrs:{"first-day-of-week":1,lang:"es",format:"YYYY-MM-DD",valueType:"format","disabled-date":function(e){return e>=t.$moment().subtract(1,"days")}},model:{value:t.item.fecha_termino,callback:function(e){t.$set(t.item,"fecha_termino",e)},expression:"item.fecha_termino"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(r[0])+"\n                ")])],1)]}}],null,!0)})],1)]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{rules:"required|numeric|integer",name:"Horas"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Horas lectivas"}},[n("b-form-input",{attrs:{type:"number",state:!r[0]&&(!!o||null)},model:{value:t.item.horas_lectivas,callback:function(e){t.$set(t.item,"horas_lectivas",e)},expression:"item.horas_lectivas"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(r[0]))])],1)]}}],null,!0)})],1),t._v(" "),n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{rules:"required|ext:pdf|size:3072",name:"Certificado"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validate,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Certificado.PDF:"}},[n("input",{staticClass:"form-control",attrs:{type:"file"},on:{change:function(e){t.handleFileChange(e)||o(e)}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(r[0])+"\n                ")])])]}}],null,!0)})],1)])],1)]}}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports},666:function(t,e,n){"use strict";n.r(e);var o=n(25),r=(n(64),n(15),n(99),n(586)),l=(n(587),n(588),{components:{DatePicker:r.default},props:{title:{type:String,default:"Editar Capacitación"}},data:function(){return{modalId:"modal-edit",openModalEvent:"open-edit-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/capacitaciones/",msgSuccess:"Capacitación actualizada exitosamente!!!",isProcessing:!1,item:{id:null,nombre:"",fecha_inicio:"",fecha_termino:"",horas_lectivas:"",ciudad:"",tipo_capacitacion_id:"",institucion_id:"",certificado:null,certificado_anterior:null},institucionSelected:null,tipoCapacitacionSelected:null,listInstituciones:[],listTipoCapacitacion:[],isNewFile:!1}},watch:{institucionSelected:function(t){this.item.institucion_id=t&&t.id?t.id:null},tipoCapacitacionSelected:function(t){this.item.tipo_capacitacion_id=t&&t.id?t.id:null}},computed:{apiUrl:function(){return this.apiUrlPartial+this.item.id}},mounted:function(){this.loadSelectOptions()},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(e){t.setItemValues(e),t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId)},resetModal:function(){this.resetFormValues()},setItemValues:function(t){this.item.id=t.id,this.item.nombre=t.nombre,this.item.fecha_inicio=t.fecha_inicio,this.item.fecha_termino=t.fecha_termino,this.item.horas_lectivas=t.horas_lectivas,this.item.ciudad=t.ciudad,this.item.tipo_capacitacion_id=t.tipo_capacitacion_id,this.item.institucion_id=t.institucion_id,this.item.certificado_anterior=t.certificado,this.setSelectedOptions()},resetFormValues:function(){this.item.id="",this.item.nombre="",this.item.fecha_inicio="",this.item.fecha_termino="",this.item.horas_lectivas="",this.item.ciudad="",this.item.tipo_capacitacion_id="",this.item.institucion_id="",this.item.certificado=null,this.institucionSelected=null,this.tipoCapacitacionSelected=null,this.isNewFile=!1,this.isProcessing=!1},handleOk:function(t){t.preventDefault(),this.onSubmit()},onSubmit:function(){var t=this;this.$refs.form.validate().then((function(e){if(e){t.isProcessing=!0;var data=new FormData;for(var n in data.append("_method","put"),t.item)t.item[n]&&data.append(n,t.item[n]);t.$axios.post(t.apiUrl,data).then((function(e){t.$notify({type:"success",text:t.msgSuccess})})).finally((function(){t.refreshTable(),t.hideModal()}))}}))},setSelectedOptions:function(){var t=this;this.institucionSelected=this.listInstituciones.find((function(i){return i.id==t.item.institucion_id})),this.tipoCapacitacionSelected=this.listTipoCapacitacion.find((function(i){return i.id==t.item.tipo_capacitacion_id}))},loadSelectOptions:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/listasParaCapacitacion").then((function(e){t.listInstituciones=e.data.institutiones||[],t.listTipoCapacitacion=e.data.tipo_capacitacion||[]}));case 2:case"end":return e.stop()}}),e)})))()},handleFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.item.certificado=e[0])},requestChangeFile:function(){this.isNewFile=!this.isNewFile}}}),c=n(12),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:t.modalId,title:t.title,size:"lg"},on:{ok:t.handleOk,hidden:t.resetModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.ok,r=e.cancel;return[n("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return r()}}},[t._v(" Cancelar")]),t._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"primary",disabled:t.isProcessing},on:{click:function(t){return o()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:!t.isProcessing,expression:"!isProcessing"}],staticClass:"fas fa-edit"}),t._v(" Actualizar\n      ")])]}}])},[n("ValidationObserver",{ref:"form",on:{submit:function(t){t.preventDefault()}},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.handleSubmit;return[n("b-form",{on:{submit:function(e){return e.preventDefault(),o(t.onSubmit)}}},[n("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Nombre"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,l=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Nombre de la capacitación:"}},[n("b-form-input",{attrs:{type:"text",state:!(!o||!r)||!l[0]&&null},model:{value:t.item.nombre,callback:function(e){t.$set(t.item,"nombre",e)},expression:"item.nombre"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(l[0]))])],1)]}}],null,!0)}),t._v(" "),n("ValidationProvider",{attrs:{rules:"required",name:" "},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,l=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Institución académica:"}},[n("multiselect-c",{class:o&&r?"is-valid":l[0]?"is-invalid":"",attrs:{options:t.listInstituciones,label:"nombre","track-by":"id",placeholder:"Elija un institución académica"},model:{value:t.institucionSelected,callback:function(e){t.institucionSelected=e},expression:"institucionSelected"}},[n("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Oops! No se encontraron elementos.")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:l.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n              "+t._s(l[0])+"\n            ")])],1)]}}],null,!0)}),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{rules:"required",name:"Tipo"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,l=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Tipo de capacitación:"}},[n("multiselect-c",{class:o&&r?"is-valid":l[0]?"is-invalid":"",attrs:{options:t.listTipoCapacitacion,label:"nombre","track-by":"id",placeholder:"Elija tipo de capacitación"},model:{value:t.tipoCapacitacionSelected,callback:function(e){t.tipoCapacitacionSelected=e},expression:"tipoCapacitacionSelected"}},[n("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Oops! No se encontraron elementos.")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:l.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(l[0])+"\n                ")])],1)]}}],null,!0)})],1),t._v(" "),n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{mode:"eager",rules:"required|alpha_num_spaces",name:"Ciudad"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,l=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Ciudad de la capacitación:"}},[n("b-form-input",{attrs:{type:"text",state:!(!o||!r)||!l[0]&&null},model:{value:t.item.ciudad,callback:function(e){t.$set(t.item,"ciudad",e)},expression:"item.ciudad"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(l[0]))])],1)]}}],null,!0)})],1)]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{mode:"eager",rules:"required|before_or_equal:@target_fecha_final",name:"Fecha Inicio"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,l=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Fecha Inicio:"}},[n("date-picker",{class:o&&r?"is-valid":l[0]?"is-invalid":"",attrs:{"first-day-of-week":1,lang:"es",format:"YYYY-MM-DD",valueType:"format","disabled-date":function(e){return e>=t.$moment().subtract(1,"days")}},model:{value:t.item.fecha_inicio,callback:function(e){t.$set(t.item,"fecha_inicio",e)},expression:"item.fecha_inicio"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:l.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(l[0])+"\n                ")])],1)]}}],null,!0)})],1),t._v(" "),n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{mode:"eager",vid:"target_fecha_final",rules:"required",name:"Fecha Fin"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,l=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Fecha Final:"}},[n("date-picker",{class:o&&r?"is-valid":l[0]?"is-invalid":"",attrs:{"first-day-of-week":1,lang:"es",format:"YYYY-MM-DD",valueType:"format","disabled-date":function(e){return e>=t.$moment().subtract(1,"days")}},model:{value:t.item.fecha_termino,callback:function(e){t.$set(t.item,"fecha_termino",e)},expression:"item.fecha_termino"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:l.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                  "+t._s(l[0])+"\n                ")])],1)]}}],null,!0)})],1)]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("ValidationProvider",{attrs:{rules:"required|numeric|integer",name:"Horas"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validated,r=e.valid,l=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Horas lectivas"}},[n("b-form-input",{attrs:{type:"number",state:!(!o||!r)||!l[0]&&null},model:{value:t.item.horas_lectivas,callback:function(e){t.$set(t.item,"horas_lectivas",e)},expression:"item.horas_lectivas"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(l[0]))])],1)]}}],null,!0)})],1),t._v(" "),n("div",{staticClass:"col-6"},[t.isNewFile?[n("ValidationProvider",{attrs:{mode:"eager",rules:"required|ext:pdf|size:3072",name:"Archivo"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validate,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Certificado.PDF:"}},[n("input",{staticClass:"form-control",attrs:{type:"file"},on:{change:function(e){t.handleFileChange(e)||o(e)}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:r.length,expression:"errors.length"}],staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("\n                    "+t._s(r[0])+"\n                  ")])])]}}],null,!0)})]:[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Certificado.PDF:"}},[n("a",{staticClass:"text-decoration",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.$downloadFile(t.item.certificado_anterior)}}},[n("i",{staticClass:"uil uil-file-info-alt font-size-18"}),t._v(" Archivo adjunto\n                ")]),t._v(" "),n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-outline-danger btn-sm",staticStyle:{"margin-left":"20px"},attrs:{type:"button",title:"Subir nuevo archivo"},on:{click:t.requestChangeFile}},[t._v("\n                  Cambiar\n                ")])])]],2)])],1)]}}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports},667:function(t,e,n){"use strict";n.r(e);n(15);var o={props:{title:{type:String,default:"Eliminar Capacitación"}},data:function(){return{modalId:"modal-delete",openModalEvent:"open-delete-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/capacitaciones/",msgSuccess:"Capacitación eliminada exitosamente!!!",isProcessing:!1,item:{id:null,text:""}}},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(e){t.setItemValues(e),t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return this.apiUrlPartial+this.item.id}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId),this.resetFormValues()},setItemValues:function(t){this.item.id=t.id,this.item.text=t.nombre},resetFormValues:function(){this.item.id=null,this.item.text="",this.isProcessing=!1},handleOk:function(t){t.preventDefault(),this.onSubmit()},onSubmit:function(){var t=this;this.item.id&&(this.isProcessing=!0,this.$axios.delete(this.apiUrl).then((function(e){t.$notify({type:"success",text:t.msgSuccess})})).finally((function(){t.refreshTable(),t.hideModal()})))}}},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:t.modalId,title:t.title},on:{ok:t.handleOk,hidden:t.hideModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.ok,r=e.cancel;return[n("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return r()}}},[t._v(" Cancelar ")]),t._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"danger",disabled:t.isProcessing},on:{click:function(t){return o()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isProcessing,expression:"isProcessing"}],staticClass:"spinner-border spinner-border-sm"}),t._v("\n        Eliminar\n      ")])]}}])},[n("p",[t._v("¿Está seguro que desea eliminar esta capacitación?")]),t._v(" "),n("p",[n("b",[t._v(t._s(t.item.text))])])])],1)}),[],!1,null,null,null);e.default=component.exports},740:function(t,e,n){"use strict";n.r(e);n(13),n(1);var o={layout:"vertical",head:function(){return{title:"".concat(this.title," | CENEPRED")}},data:function(){return{title:"Capacitaciones",items:[{text:"Admin"},{text:"Curriculum Vitae"},{text:"Capacitaciones",active:!0}],urlTableData:"/capacitaciones",tableData:this.getItems,isBusy:!1,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],sortDesc:!0,sortBy:"fecha_termino",fields:[{label:"Capacitación",key:"nombre",sortable:!0,visible:!0},{label:"Tipo",key:"tipo_capacitacion",sortable:!1,visible:!0},{label:"Horas Lectivas",key:"horas_lectivas",sortable:!0,visible:!0,class:"bs-date-col"},{label:"Fecha Inicial",key:"fecha_inicio",sortable:!0,visible:!0,class:"bs-date-col"},{label:"Fecha Final",key:"fecha_termino",sortable:!0,visible:!0,class:"bs-date-col"},{label:"Certificado",key:"certificado",sortable:!1,visible:!0,class:"bs-date-col"},{label:"Opciones",key:"opciones",sortable:!1,visible:!0,class:"bs-option-col",thClass:"bs-option-col-header"}]}},computed:{userEstaPostulando:function(){var u=this.$auth.user.esta_postulando;return this.fields.map((function(t){return t.visible=!("opciones"===t.key&&u)})),u},visibleFields:function(){return this.fields.filter((function(t){return t.visible}))}},created:function(){var t=this;this.$nuxt.$on("refresh-table",(function(){t.refreshTable()}))},beforeDestroy:function(){this.$nuxt.$off("refresh-table")},methods:{requestDeleteItem:function(t){this.$nuxt.$emit("open-delete-modal",t)},requestEditItem:function(t){this.$nuxt.$emit("open-edit-modal",t)},requestAddItem:function(){this.$nuxt.$emit("open-add-modal")},refreshTable:function(){this.$refs.table.refresh()},getItems:function(t){var e=this,n=this.filtersTable(t);return this.$axios.get(this.urlTableData+n).then((function(t){var n=t.data.data;return e.currentPage=t.data.meta.current_page,e.totalRows=t.data.meta.total,e.isBusy=!1,n})).catch((function(t){return e.isBusy=!1,[]}))},filtersTable:function(t){var e=t.sortDesc?"DESC":"ASC",n="?page=".concat(t.currentPage);return n+="&per_page=".concat(t.perPage),n+=t.sortBy?"&sortBy=".concat(t.sortBy):"",n+="&direction=".concat(e)}},middleware:"us-adhoc"},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("PageHeader",{attrs:{title:t.title,items:t.items}}),t._v(" "),n("AdhocCvCapacitacionAddModal"),t._v(" "),n("AdhocCvCapacitacionEditModal"),t._v(" "),n("AdhocCvCapacitacionDeleteModal"),t._v(" "),n("div",{staticClass:"row mx-lg-4"},[n("AdhocCvAlertPostulando",{attrs:{seccion:"capacitaciones"}}),t._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("h2",{staticClass:"card-title"},[t._v("Listado de capacitaciones")]),t._v(" "),n("div",{directives:[{name:"permission",rawName:"v-permission",value:"CAPACITACION_CREATE",expression:"'CAPACITACION_CREATE'"},{name:"show",rawName:"v-show",value:!t.userEstaPostulando,expression:"!userEstaPostulando"}],staticClass:"card-options"},[n("b-button",{staticClass:"w-sm",attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.requestAddItem()}}},[n("i",{staticClass:"fa fa-fw fa-plus"}),t._v(" Agregar\n            ")])],1)]),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"row mt-4"},[n("div",{staticClass:"col-sm-12 col-md-6"},[n("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[n("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\n                  Mostrar \n                  "),n("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v("\n                   registros\n                ")],1)])])]),t._v(" "),n("div",{staticClass:"table-responsive mb-0"},[n("b-table",{ref:"table",class:"table-nowrap",attrs:{responsive:"sm",busy:t.isBusy,items:t.tableData,fields:t.visibleFields,"per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,striped:"","show-empty":""},on:{"update:busy":function(e){t.isBusy=e},"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"empty",fn:function(){return[n("p",{staticClass:"text-center"},[t._v("No hay registros para mostrar")])]},proxy:!0},{key:"cell(certificado)",fn:function(data){return[n("a",{staticClass:"text-decoration",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.$downloadFile(data.value)}}},[n("i",{staticClass:"uil uil-file-info-alt font-size-18"}),t._v(" Archivo adjunto\n                ")])]}},t.userEstaPostulando?null:{key:"cell(opciones)",fn:function(data){return[n("ul",{staticClass:"list-inline two-options mb-0"},[n("li",{directives:[{name:"permission",rawName:"v-permission",value:"CAPACITACION_EDIT",expression:"'CAPACITACION_EDIT'"}],staticClass:"list-inline-item"},[n("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-primary",attrs:{href:"javascript:void(0);",title:"Editar"},on:{click:function(e){return t.requestEditItem(data.item)}}},[n("i",{staticClass:"uil uil-pen font-size-18"})])]),t._v(" "),n("li",{directives:[{name:"permission",rawName:"v-permission",value:"CAPACITACION_DESTROY",expression:"'CAPACITACION_DESTROY'"}],staticClass:"list-inline-item"},[n("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-danger",attrs:{href:"javascript:void(0);",title:"Eliminar"},on:{click:function(e){return t.requestDeleteItem(data.item)}}},[n("i",{staticClass:"uil uil-trash-alt font-size-18"})])])])]}}],null,!0)})],1),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[n("ul",{staticClass:"pagination pagination-rounded mb-0"},[n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])])],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PageHeader:n(585).default,AdhocCvCapacitacionAddModal:n(665).default,AdhocCvCapacitacionEditModal:n(666).default,AdhocCvCapacitacionDeleteModal:n(667).default,AdhocCvAlertPostulando:n(589).default})}}]);