(window.webpackJsonp=window.webpackJsonp||[]).push([[92,34,68],{585:function(t,e,l){"use strict";l.r(e);var o={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},r=l(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"row mx-lg-4"},[l("div",{staticClass:"col-12"},[l("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[l("h4",{staticClass:"mb-0"},[t._v(t._s(t.title))]),t._v(" "),l("div",{staticClass:"page-title-right"},[l("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])}),[],!1,null,null,null);e.default=component.exports},642:function(t,e,l){"use strict";l.r(e);var o={props:{title:{type:String,default:"Detalle Expediente"}},data:function(){return{modalId:"modal-detalle",openModalEvent:"open-detalle-modal",item:{id:null,adhoc_full_name:"",cenepred_full_name:"",administrado_full_name:"",departamento_nombre:"",direccion:"",estado_expediente_nombre:"",fecha_entrega:"",fecha_ingreso_ht:"",fecha_solicitud_ht:"",nombre_comercial:"",numero_hoja_tramite:"",archivo_solicitud_ht:"",recibo_pago:"",area:""}}},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(e){t.setItemValues(e),t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{colorEstadoExpediente:function(){var t="info";switch(this.item.estado_expediente_nombre){case"OBSERVADO":t="danger";break;case"SOLICITUD VERIFICACION":t="warning"}return t}},methods:{showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId)},setItemValues:function(t){this.item.id=t.id,this.item.adhoc_full_name=t.adhoc_full_name,this.item.cenepred_full_name=t.cenepred_full_name,this.item.administrado_full_name=t.administrado_full_name,this.item.departamento_nombre=t.departamento_nombre,this.item.direccion=t.direccion,this.item.estado_expediente_nombre=t.estado_expediente_nombre,this.item.fecha_entrega=t.fecha_entrega,this.item.fecha_ingreso_ht=t.fecha_ingreso_ht,this.item.fecha_solicitud_ht=t.fecha_solicitud_ht,this.item.nombre_comercial=t.nombre_comercial,this.item.numero_hoja_tramite=t.numero_hoja_tramite,this.item.archivo_solicitud_ht=t.archivo_solicitud_ht,this.item.recibo_pago=t.recibo_pago,this.item.area=t.area}}},r=l(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("b-modal",{attrs:{id:t.modalId,title:t.title,size:"lg"},on:{hidden:t.hideModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.cancel;return[l("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return o()}}},[t._v(" Cerrar ")])]}}])},[l("div",{staticClass:"row"},[l("div",{staticClass:"col-6"},[l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Usuario Administrado:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[t._v(t._s(t.item.administrado_full_name))])]),t._v(" "),l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Nombre Comercial:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[t._v(t._s(t.item.nombre_comercial))])]),t._v(" "),l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Dirección:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[t._v(t._s(t.item.direccion))])]),t._v(" "),l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Área (m²) comercial:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[t._v(t._s(t.item.area))])]),t._v(" "),l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Departamento:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[t._v(t._s(t.item.departamento_nombre))])]),t._v(" "),l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Nº de Hoja de Trámite:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[t._v(t._s(t.item.numero_hoja_tramite))])])]),t._v(" "),l("div",{staticClass:"col-6"},[l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Estado del Expediente:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[l("span",{staticClass:"badge fw-semibold",class:"bg-soft-"+t.colorEstadoExpediente},[t._v("\n              "+t._s(t.item.estado_expediente_nombre)+"\n            ")])])]),t._v(" "),l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Fecha de Solicitud Nº de Hoja de Trámite:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[t._v("\n            "+t._s(t.item.fecha_solicitud_ht?t.$moment(t.item.fecha_solicitud_ht).format("YYYY-MM-DD HH:MM"):"-----")+"\n          ")])]),t._v(" "),l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Fecha de Solicitud de Verificación AdHoc:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[t._v("\n            "+t._s(t.item.fecha_ingreso_ht?t.$moment(t.item.fecha_ingreso_ht).format("YYYY-MM-DD HH:MM"):"-----")+"\n          ")])]),t._v(" "),l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Archivo Anexo Nº 5:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[l("a",{staticClass:"text-decoration",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.$downloadFile(t.item.archivo_solicitud_ht)}}},[l("i",{staticClass:"uil uil-file-info-alt font-size-18"}),t._v(" Ver Archivo\n            ")])])]),t._v(" "),l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Archivo Recibo de Pago:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[l("a",{staticClass:"text-decoration",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.$downloadFile(t.item.recibo_pago)}}},[l("i",{staticClass:"uil uil-file-info-alt font-size-18"}),t._v(" Ver Archivo\n            ")])])])])]),t._v(" "),"ENTREGADO"==t.item.estado_expediente_nombre?l("div",{staticClass:"row"},[l("hr",{staticClass:"my-3"}),t._v(" "),l("div",{staticClass:"col-6"},[l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Usuario Asignador (cenepred):")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[t._v(t._s(t.item.cenepred_full_name))])]),t._v(" "),l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Verificador Asignado:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[t._v(t._s(t.item.adhoc_full_name))])])]),t._v(" "),l("div",{staticClass:"col-6"},[l("div",{staticClass:"mb-3"},[l("label",{staticClass:"form-label"},[t._v("Fecha de Entrega de Expediente:")]),t._v(" "),l("p",{staticClass:"text-muted m-0"},[t._v("\n            "+t._s(t.item.fecha_entrega?t.$moment(t.item.fecha_entrega).format("YYYY-MM-DD HH:MM"):"-----")+"\n          ")])])])]):t._e()])],1)}),[],!1,null,null,null);e.default=component.exports},730:function(t,e,l){"use strict";l.r(e);l(16),l(15),l(20),l(52),l(30),l(3),l(54),l(60),l(38);var o=l(25);l(64);function r(t,e){var l="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!l){if(Array.isArray(t)||(l=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var l=Object.prototype.toString.call(t).slice(8,-1);"Object"===l&&t.constructor&&(l=t.constructor.name);if("Map"===l||"Set"===l)return Array.from(t);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return n(t,e)}(t))||e&&t&&"number"==typeof t.length){l&&(t=l);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,d=!1;return{s:function(){l=l.call(t)},n:function(){var t=l.next();return c=t.done,t},e:function(t){d=!0,r=t},f:function(){try{c||null==l.return||l.return()}finally{if(d)throw r}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,l=new Array(e);i<e;i++)l[i]=t[i];return l}var c={layout:"vertical",head:function(){return{title:"".concat(this.title," | CENEPRED")}},data:function(){var t="Revisión de Expedientes AdHoc";return{title:t,items:[{text:"Admin"},{text:"Revisión de Expediente"},{text:t,active:!0}],urlTableData:"/entregaexpediente",tableData:this.getItems,isBusy:!1,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:"",sortDesc:!0,sortBy:"fecha_ingreso_ht",fields:[{label:"Nombre Comercial",key:"nombre_comercial",sortable:!0},{label:"Departamento",key:"departamento_nombre",sortable:!0},{label:"Verificador Asignado",key:"adhoc_full_name",sortable:!0},{label:"F. S. Hoja Trámite",key:"fecha_solicitud_ht",sortable:!0,class:"bs-date-col"},{label:"F. S. Verificación",key:"fecha_ingreso_ht",sortable:!0,class:"bs-date-col"},{label:"Estado",key:"estado_expediente_nombre",sortable:!0,class:"bs-date-col-left"},{label:"Opciones",key:"opciones",sortable:!1,class:"bs-option-col",thClass:"bs-option-col-header"}],listAcreditaciones:[],listEstadoExpediente:[],listEstadoRevision:[],hay_convocatoria_actual:"",estadoExpedienteSelected:null,estadoRevisionSelected:null,filter_estado_id:[],filter_nombre:""}},watch:{estadoExpedienteSelected:function(t){var e,l=[],o=r(t);try{for(o.s();!(e=o.n()).done;){var n=e.value;l.push(n.id)}}catch(t){o.e(t)}finally{o.f()}this.filter_estado_id=l}},mounted:function(){this.loadSelectOptions()},created:function(){var t=this;this.$nuxt.$on("refresh-table",(function(){t.refreshTable()}))},beforeDestroy:function(){this.$nuxt.$off("refresh-table")},methods:{requestShowItemDetail:function(t){this.$nuxt.$emit("open-detalle-modal",t)},refreshTable:function(){this.$refs.table.refresh()},getItems:function(t){var e=this,l=this.filtersTable(t);return this.$axios.get(this.urlTableData+l).then((function(t){var l=t.data.data;return e.currentPage=t.data.meta.current_page,e.totalRows=t.data.meta.total,e.isBusy=!1,l})).catch((function(t){return e.isBusy=!1,[]}))},filtersTable:function(t){var e=t.sortDesc?"DESC":"ASC",l="?page=".concat(t.currentPage),o="";if(this.filter_estado_id.length>0){var n,c=r(this.filter_estado_id);try{for(c.s();!(n=c.n()).done;){o+="&estado_expediente_id[]="+n.value}}catch(t){c.e(t)}finally{c.f()}}return l+="&per_page=".concat(t.perPage),l+=t.sortBy?"&sortBy=".concat(t.sortBy):"",l+="&direction=".concat(e),l+=this.filter_nombre?"&nombre_comercial=".concat(this.filter_nombre):"",l+=o||""},handleFiltrar:function(){this.refreshTable()},loadSelectOptions:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/listasParaEntregaExpediente").then((function(e){t.listAcreditaciones=e.data.acreditaciones||[],t.listEstadoExpediente=e.data.estado_expediente||[],t.listEstadoRevision=e.data.estado_revision||[],t.hay_convocatoria_actual=!!e.data.hay_convocatoria_actual}));case 2:case"end":return e.stop()}}),e)})))()},colorEstadoExpediente:function(t){var e="info";switch(t){case"OBSERVADO":e="danger";break;case"SOLICITUD VERIFICACION":e="warning"}return e}},middleware:"us-cenepred"},d=l(12),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("PageHeader",{attrs:{title:t.title,items:t.items}}),t._v(" "),l("CenepredExpedienteDetalleModal"),t._v(" "),l("div",{staticClass:"row mx-lg-4"},[t._m(0),t._v(" "),l("div",{staticClass:"col-12"},[l("div",{staticClass:"card"},[t._m(1),t._v(" "),l("div",{staticClass:"card-body"},[l("div",{staticClass:"row"},[l("h4",{staticClass:"card-title mb-4"},[t._v("Filtros:")]),t._v(" "),l("div",{staticClass:"col-4 mb-3"},[l("label",{staticClass:"form-label"},[t._v("Nombre Comercial:")]),t._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:t.filter_nombre,expression:"filter_nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filter_nombre},on:{input:function(e){e.target.composing||(t.filter_nombre=e.target.value)}}}),t._v(" "),l("div",{staticClass:"form-text"},[t._v("Busca por el nombre completo o parcial.")])]),t._v(" "),l("div",{staticClass:"col-4 mb-3"},[l("label",{staticClass:"form-label"},[t._v("Estado Expediente:")]),t._v(" "),l("multiselect-c",{attrs:{multiple:!0,options:t.listEstadoExpediente,label:"nombre","track-by":"id",placeholder:"Elija un estado"},model:{value:t.estadoExpedienteSelected,callback:function(e){t.estadoExpedienteSelected=e},expression:"estadoExpedienteSelected"}},[l("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("Oops! No se encontraron elementos.")])])],1),t._v(" "),l("div",{staticClass:"col-12"},[l("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.handleFiltrar}},[l("i",{staticClass:"fas fa-th-list"}),t._v(" Filtrar\n              ")])])]),t._v(" "),l("hr",{staticClass:"my-3"}),t._v(" "),l("div",{staticClass:"row mt-4"},[l("div",{staticClass:"col-sm-12 col-md-6"},[l("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[l("label",{staticClass:"d-inline-flex align-items-center"},[t._v("\n                  Mostrar \n                  "),l("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v("\n                   registros\n                ")],1)])])]),t._v(" "),l("div",{staticClass:"table-responsive mb-0"},[l("b-table",{ref:"table",class:"table-nowrap",attrs:{responsive:"sm",busy:t.isBusy,items:t.tableData,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,striped:"","show-empty":""},on:{"update:busy":function(e){t.isBusy=e},"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"empty",fn:function(){return[l("p",{staticClass:"text-center"},[t._v("No hay registros para mostrar")])]},proxy:!0},{key:"cell(fecha_ingreso_ht)",fn:function(data){return[data.value?[l("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$moment(String(data.value)).format("YYYY-MM-DD HH:MM")}},[t._v("\n                    "+t._s(t.$moment(String(data.value)).format("YYYY-MM-DD"))+"\n                  ")])]:[l("span",[t._v("---")])]]}},{key:"cell(fecha_solicitud_ht)",fn:function(data){return[data.value?[l("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$moment(String(data.value)).format("YYYY-MM-DD HH:MM")}},[t._v("\n                    "+t._s(t.$moment(String(data.value)).format("YYYY-MM-DD"))+"\n                  ")])]:[l("span",[t._v("---")])]]}},{key:"cell(estado_expediente_nombre)",fn:function(data){return[l("span",{staticClass:"badge fw-semibold",class:"bg-soft-"+t.colorEstadoExpediente(data.value)},[t._v("\n                  "+t._s(data.value)+"\n                ")])]}},{key:"cell(opciones)",fn:function(data){return[l("ul",{staticClass:"list-inline two-options mb-0"},[l("li",{staticClass:"list-inline-item"},[l("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-primary",attrs:{href:"javascript:void(0);",title:"Ver Detalle"},on:{click:function(e){return t.requestShowItemDetail(data.item)}}},[l("i",{staticClass:"uil uil-eye font-size-18"})])]),t._v(" "),l("li",{staticClass:"list-inline-item"},[l("nuxt-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"px-1 text-primary",attrs:{to:"/admin/cenepred/expediente/"+data.item.id,title:"Editar"}},[l("i",{staticClass:"uil uil-pen font-size-18"})])],1)])]}}])})],1),t._v(" "),l("div",{staticClass:"row"},[l("div",{staticClass:"col"},[l("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[l("ul",{staticClass:"pagination pagination-rounded mb-0"},[l("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])])])],1)}),[function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"col-12"},[l("div",{staticClass:"card"},[l("div",{staticClass:"card-body"},[l("div",{staticClass:"alert alert-warning m-0",attrs:{role:"alert"}},[t._v("\n            Puede ver mas información haciendo click en la opción "),l("b",[t._v("Ver Detalle")]),t._v(" (\n            "),l("b",[l("i",{staticClass:"far fa-eye"})]),t._v(" ) o actualizar un expediente con la opción "),l("b",[t._v("Editar")]),t._v(" (\n            "),l("b",[l("i",{staticClass:"uil uil-pen font-size-18"})]),t._v(" )\n          ")])])])])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"card-header"},[l("h2",{staticClass:"card-title"},[t._v("Listado de expedientes a revisar")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{PageHeader:l(585).default,CenepredExpedienteDetalleModal:l(642).default})}}]);