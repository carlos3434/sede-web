(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{520:function(t,e,n){"use strict";n.r(e);n(15);var o={name:"ConfigAddModal",props:{title:{type:String,default:"Agregar Configuración"}},data:function(){return{modalId:"modal-add",openModalEvent:"open-add-modal",refreshTableEvent:"refresh-table",apiUrlPartial:"/configuraciones",msgSuccess:"Configuración creada exitosamente!!!",item:{id:null,nombre:"",valor:""}}},created:function(){var t=this;this.$nuxt.$on(this.openModalEvent,(function(){t.showModal()}))},beforeDestroy:function(){this.$nuxt.$off(this.openModalEvent)},computed:{apiUrl:function(){return this.apiUrlPartial}},methods:{refreshTable:function(){this.$nuxt.$emit(this.refreshTableEvent)},showModal:function(){this.$bvModal.show(this.modalId)},hideModal:function(){this.$bvModal.hide(this.modalId),this.resetFormValues()},showNotification:function(t,e){this.$notify({group:"noti",type:t,text:e})},resetFormValues:function(){this.item.nombre="",this.item.valor=""},handleOk:function(t){t.preventDefault(),this.onSubmit()},onSubmit:function(){var t=this;this.$refs.form.validate().then((function(e){e&&t.$axios.post(t.apiUrl,t.item).then((function(e){t.showNotification("success",t.msgSuccess)})).finally((function(){t.refreshTable(),t.hideModal()}))}))}}},r=n(12),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:t.modalId,title:t.title},on:{ok:t.handleOk,hidden:t.hideModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var o=e.ok,r=e.cancel;return[n("b-button",{attrs:{size:"md",variant:"link"},on:{click:function(t){return r()}}},[t._v(" Cancelar")]),t._v(" "),n("b-button",{attrs:{type:"submit",size:"md",variant:"primary"},on:{click:function(t){return o()}}},[n("i",{staticClass:"fas fa-paper-plane"}),t._v(" Agregar\n      ")])]}}])},[n("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.handleSubmit;return[n("b-form",{on:{submit:function(e){return e.preventDefault(),o(t.onSubmit)},reset:t.hideModal}},[n("ValidationProvider",{attrs:{rules:"required",name:"Nombre"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Nombre:"}},[n("b-form-input",{attrs:{type:"text",state:!r[0]&&(!!o||null)},model:{value:t.item.nombre,callback:function(e){t.$set(t.item,"nombre",e)},expression:"item.nombre"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(r[0]))])],1)]}}],null,!0)}),t._v(" "),n("ValidationProvider",{attrs:{rules:"required",name:"Valor"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.valid,r=e.errors;return[n("b-form-group",{staticClass:"mb-3",attrs:{label:"Valor:"}},[n("b-form-input",{attrs:{type:"text",state:!r[0]&&(!!o||null)},model:{value:t.item.valor,callback:function(e){t.$set(t.item,"valor",e)},expression:"item.valor"}}),t._v(" "),n("b-form-invalid-feedback",[t._v(t._s(r[0]))])],1)]}}],null,!0)})],1)]}}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);